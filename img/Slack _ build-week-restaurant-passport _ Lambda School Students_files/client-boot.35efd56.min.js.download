(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+Sjy":function(e,t,r){"use strict";r.d(t,"g",function(){return _}),r.d(t,"f",function(){return h}),r.d(t,"d",function(){return g}),r.d(t,"e",function(){return O}),r.d(t,"a",function(){return v}),r.d(t,"b",function(){return y}),r.d(t,"c",function(){return w});var o=r("vJtL"),n=r("Z3Pq"),a=r("t85p"),s=r("yHhI"),i=r("ayyL"),c=r("D6w7"),d=r("1tsX"),l=r("g+Y+"),u=r("2cus"),m=r("kcos"),p=[{path:"composer",id:"Pcomposer",isEnabled:e=>Object(l.g)(e)},{path:"drafts",id:"Pdrafts",isEnabled:e=>Object(l.g)(e)},{path:"example",id:"Pexample",isEnabled:e=>Object(a.m)(e,"feature_pages_example")},{path:"home",id:"Phome",isEnabled:e=>Object(c.e)(e)},{path:"unreads",id:"Punreads"},{path:"learning-slack",id:"Pwelcome",isEnabled:e=>Object(i.t)(e)},{path:"apps",id:"Papps",isEnabled:e=>Object(d.a)(e)},{path:"recent",id:"Precent",isEnabled:e=>Object(m.d)(e)},{path:"activity-page",id:"Pactivity",isEnabled:e=>Object(m.d)(e)},{path:"stars",id:"Pstars",isEnabled:e=>Object(m.d)(e)},{path:"files-page",id:"Pfiles",isEnabled:e=>Object(m.d)(e)},{path:"browse-files",id:"Pbrowse-files",isEnabled:e=>Object(m.a)(e)},{path:"browse-people",id:"Pbrowse-people",isEnabled:e=>Object(m.a)(e)},{path:"people-page",id:"Pdirectory",isEnabled:e=>Object(m.d)(e)},{path:"edit-profile",id:"Pprofile",isEnabled:e=>Object(m.d)(e)},{path:"preferences",id:"Psettings",isEnabled:e=>Object(m.d)(e)},{path:"browse-channels",id:"Pbrowse-channels",isEnabled:e=>Object(m.d)(e)},{path:"browse-dms",id:"Pbrowse-dms",isEnabled:e=>Object(m.d)(e)},{path:"help",id:"Phelp",isEnabled:e=>Object(m.d)(e)},{path:"paid-benefits",id:"Ppaid-benefits",isEnabled:e=>Object(u.n)(e)}],b=Object(n.a)(p,"id"),f=Object(n.a)(p,"path");f.unreads.id;function _(e){return!!f[e]}function h(e){return!!b[e]}function g(e,t){return!!t&&(Object(o.a)(t.isEnabled)?!!t.isEnabled(e):void 0===t.isEnabled||(Object(s.b)().error("PAGES","Page ".concat(t.id," has an invalid isEnabled property - it needs to either be a function or undefined")),!1))}function O(e,t){return g(e,y(t))}function v(){return p}function y(e){return b[e]}function w(e){return f[e]}},"/Bt+":function(e,t,r){"use strict";var o=r("Z7Ay"),n=r("brL+"),a=r("t85p"),s=r("JtEI"),i=r("TdUT"),c=r("yHhI"),d=r("jzln"),l=r("iJtp"),u=r("rePB"),m=r("fujP"),p=r("nfDz"),b=r("ifKl"),f={string:[0,"v_str"],boolean:[1,"v_bool"],number:[2,"v_int64"]},_={teamId:"team_id",userId:"user_id",enterpriseId:"enterprise_id",versionTs:"version",subAppName:"sub_app_name",sessionId:"session_id"};function h(e){return void 0!==f[typeof e]}var g=r("oLrU");class BaseTracer{constructor(){var{traceId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._spans={},this._traceId=e}getTraceId(){return this._traceId}getSpans(){return this._spans}clear(){Object.keys(this._spans).forEach(e=>{delete this._spans[e]})}startSpan(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._startSpan(e,t)}inject(){throw new Error("This function is not implemented")}extract(){throw new Error("This function is not implemented")}_startSpan(){return{}}}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}class base_span_BaseSpan{constructor(e){var{startTime:t=Date.now(),tags:r={},id:o=null,parentSpan:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("All spans require a tracer instance.");if(!(e instanceof BaseTracer))throw new Error("Spans should only be created by classes derived from BaseTracer.");this._tracer=e,this._id=o,this._name=null,this._tags=r,this._startTimeMs=t,this._parentSpan=n&&n instanceof base_span_BaseSpan?n:null,this._closeTimeMs=null}getId(){return this._id}getParentId(){return this._parentSpan?this._parentSpan.getId():""}getStartTimeMs(){return this._startTimeMs}getCloseTimeMs(){return this._closeTimeMs}getDurationMs(){var e=this.getCloseTimeMs();return e?e-this.getStartTimeMs():0}getOperationName(){return this._name}getTags(){return this._tags}isActive(){return!this._closeTimeMs}tracer(){return this._tracer}setOperationName(e){return this._name=e,this}addTags(e){return this._tags=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},this._tags,{},e),this}setTag(e,t){return this.addTags({[e]:t}),this}close(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._closeTimeMs=e}log(){throw new Error("This function is not implemented")}getBaggageItem(){throw new Error("This function is not implemented")}setBaggageItem(){throw new Error("This function is not implemented")}context(){throw new Error("This function is not implemented")}}var v=base_span_BaseSpan,y="TRACER:SPAN";var w=class span_Span extends v{constructor(e){var{startTime:t=Date.now(),tags:r={},parentSpan:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,{startTime:t,tags:r,parentSpan:o}),this._id=this._generateUUID()}getCloseTimeMs(){var e=super.getCloseTimeMs();return e||Object(c.b)().warn(y,"Cannot get close time for this span because it has not closed."),e}getDurationMs(){return this.getCloseTimeMs()||Object(c.b)().warn(y,"Cannot get duration for this span because it has not closed."),super.getDurationMs()}_generateUUID(){return Object(g.a)()}};class opentracing_tracer_OpentracingTracer extends BaseTracer{constructor(){super(),this._traceId=this._generateUUID()}_startSpan(e,t){var r=new w(this,t);return r.setOperationName(e),this._registerSpan(r),r}_registerSpan(e){var t=e.getId();this._spans[t]=e}_generateUUID(){return Object(g.a)()}}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S="[TRACE]";class trace_Trace extends opentracing_tracer_OpentracingTracer{constructor(e){var{traceName:t,tags:r={}}=e;super(),this._forceCloseSpan=this._forceCloseSpan.bind(this),this.report=this.report.bind(this),this.reportClosedSpans=this.reportClosedSpans.bind(this),this._rootSpanId=null,this._traceName=t,this._tags=r}getTraceName(){return this._traceName}getClosedSpans(){return Object.values(this.getSpans()).filter(e=>!e.isActive())}getTags(){return this._tags}getRootSpan(){return this.getSpans()[this._rootSpanId]}startSpan(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._rootSpanId){var r=super.startSpan(this._traceName);this._rootSpanId=r.getId()}var o=I({},t);return t.parentSpan||(o.parentSpan=this.getRootSpan()),super.startSpan(e,o)}addTags(e){if(e){var t=this._getValidTags(e);Object(m.a)(t)||(this._tags=I({},this._tags,{},t))}}report(){var e=this.getRootSpan();e&&e.isActive()&&e.close(),this._maybeForceCloseTrace();var t=Object.values(this.getSpans());return this._report(t)}reportClosedSpans(){var e=this.getClosedSpans();return this._report(e)}_report(e){var t=this.getTraceId(),r=this._getValidTags(this._tags);return this._clearSpans(e),{spans:e,traceId:t,tags:r}}_maybeForceCloseTrace(){var e=Object.values(this.getSpans());Object(m.a)(e)||e.forEach(this._forceCloseSpan)}_forceCloseSpan(e){e.isActive()&&(Object(c.b)().warn("TRACER","(".concat(e.getOperationName(),") was forced closed and marked with the flush=true tag.")),e.setTag("flush",!0),e.close())}_getValidTags(e){var t=Object.keys(e),r={};return t.forEach(t=>{var o=e[t];if(h(o))r[t]=o;else{var n=typeof o;Object(c.b)().warn(S,'Value of type "'.concat(n,'" unsupported for key "').concat(t,'", so tag will be excluded from the span. Supported types are ').concat(Object.keys(f).join(", ")))}}),r}_clearSpans(e){Object(m.a)(e)||e.forEach(e=>{var t=e.getId();delete this._spans[t]})}_getSpanById(e){return this.getSpans()[e]}reset(){this._rootSpanId=null,this._tags={},this.clear()}traceFn(e,t){var{name:r,options:o,onResolve:n=b.a,onError:a=b.a}=e;return this.trace({name:r,options:o,onResolve:n,onError:a},t)()}trace(e,t){var r=this,{name:o,options:n,onResolve:a=b.a,onError:s=b.a}=e;return o?function(){var e=r.startSpan(o,n);Object(c.b)().debug(S,"".concat(o," begin"),"".concat(Date.now(),"ms"));var i=a.bind(null,e),d=s.bind(null,e);try{for(var l=arguments.length,u=new Array(l),m=0;m<l;m++)u[m]=arguments[m];var p=t.apply(r,u);return p&&p.then?p.tap(i).catch(d).finally(()=>{e&&e.isActive()&&e.close(),Object(c.b)().debug(S,"".concat(o," took ").concat(e.getDurationMs(),"ms"))}):(i(p),e.close(),Object(c.b)().debug(S,"".concat(o," took ").concat(e.getDurationMs(),"ms"))),p}catch(b){throw d(b),e.close(),Object(c.b)().debug(S,"".concat(o," took ").concat(e.getDurationMs(),"ms")),b}}:t}}var T=r("Ff2n"),k=r("ZBlo"),P=r("u3oV"),D=r("oTSI"),E=r("rWF5");function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var B=20;function W(){return E.l||E.t||E.o?"https://dev.slackb.com/traces/v1/list_of_spans/json":"https://slackb.com/traces/v1/list_of_spans/json"}class trace_reporter_TraceReporter{constructor(){var{endpointUrl:e=W()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._endpointUrl=e}report(e){var{spans:t,traceId:r,tags:o}=e;if(navigator&&navigator.sendBeacon){var n=t.map(e=>this.convertSpanToBeaconData(e,r));n=n.filter(e=>!!e);var a=this.processSharedTags(o),s=this.processTagsForBeacon(a);Object(k.a)(n,B).forEach(e=>{this.beaconSpans({spans:e,tags:s})})}}beaconSpans(e){var{spans:t,tags:r}=e,o={spans:t,tags:r};navigator.sendBeacon(this._endpointUrl,JSON.stringify(o))}processSharedTags(e){var{versionTs:t,enterpriseId:r,teamId:o,userId:n,subAppName:a,sessionId:s}=e,i=Object(T.a)(e,["versionTs","enterpriseId","teamId","userId","subAppName","sessionId"]),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({service_name:"desktop",[_.versionTs]:t,[_.enterpriseId]:r,[_.teamId]:o,[_.userId]:n,[_.subAppName]:a,[_.sessionId]:s},i);return c=Object(P.a)(c,e=>null!=e)}convertSpanToBeaconData(e,t){if(!(e instanceof w))return null;var r=btoa(t),o=e.getId(),n=btoa(o),a=e.getParentId()||"",s=btoa(a),i=e.getOperationName(),c=1e3*e.getStartTimeMs(),d=1e3*e.getDurationMs(),l=e.getTags();return{id:n,trace_id:r,name:i,start_timestamp_micros:c,duration_micros:d||1,tags:this.processTagsForBeacon(l),parent_id:s}}processTagsForBeacon(e){return Object(m.a)(e)?[]:Object.keys(e).map(t=>{return function(e,t){var r=typeof t;if(!h(t))throw new Error('Value of type "'.concat(r,'" unsupported for key "').concat(e,'". Supported types are ').concat(Object.keys(f).join(", ")));return{key:e,[f[r][1]]:t,v_type:f[r][0]}}(t,e[t])})}}var F=Object(D.a)(()=>new trace_reporter_TraceReporter),C=F;function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}Object(o.a)("getTraceReporter",F);var L="TRACER";class tracer_Tracer{constructor(){var{reporter:e=C()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._validateReporterInstance(e))throw new Error("Tracers must be provided with a valid reporter function");this.userId=null,this.teamId=null,this.teamSize=null,this.versionTs=null,this.subAppName=null,this.sessionId=p.a,this.reporter=e,this.traces={}}createTrace(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new trace_Trace({traceName:e,tags:t}),o=r.getTraceId();return this.traces[o]=r,this.traces[o]}reportTrace(e){var{onlyClosedSpans:t=!1,clearTrace:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&e instanceof trace_Trace?(this._reportTrace(e,{onlyClosedSpans:t}),r&&this.clearTrace(e)):Object(c.b)().warn(L,"No valid trace provided; Nothing to report.")}clearTrace(e){this._clearTrace(e)}setUser(e){return this.userId=e,this}setTeam(e){return this.teamId=e,this}setEnterprise(e){return this.enterpriseId=e,this}setTeamSize(e){return this.teamSize=e,this}setVersionTs(e){return this.versionTs=e,this}setSubAppName(e){return this.subAppName=e,this}getSharedTags(){return{sessionId:this.sessionId,versionTs:this.versionTs,enterpriseId:this.enterpriseId,teamId:this.teamId,userId:this.userId,subAppName:this.subAppName}}_clearTrace(e){if(e){e.reset();var t=e.getTraceId();delete this.traces[t]}}_reportTrace(e){var{onlyClosedSpans:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e&&e.getTraceName(),o=t?e.reportClosedSpans:e.report,{spans:n,traceId:a,tags:s}=o();if(n&&!Object(m.a)(n)){var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){Object(u.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},s,{},this.getSharedTags()),d=t?"Reporting partial trace (".concat(r,") with id (").concat(a,")"):"Reporting trace (".concat(r,") with id (").concat(a,")");Object(c.b)().debug(L,d),this.reporter.report({spans:n,traceId:a,tags:i})}else Object(c.b)().warn(L,"This trace contains no closed spans; Nothing to report.")}_clear(){Object.values(this.traces).forEach(e=>{e.reset()}),this.traces={}}_validateReporterInstance(e){return e&&e.report&&"function"==typeof e.report}}Object(o.a)("Tracer",tracer_Tracer),r.d(t,"b",function(){return N}),r.d(t,"a",function(){return G});var x=e=>{if(e){if(e.teamId&&e.userId&&e.versionTs)return e;if(e.state){var t=Object(n.b)(e.state),r=Object(n.a)(e.state),o=Object(a.d)(e.state),s=Object(a.c)(e.state);if(t&&o&&s)return{teamId:t,enterpriseId:r,userId:o,versionTs:s}}if(e.getState&&"function"==typeof e.getState){var i=e.getState(),c=Object(n.b)(i),d=Object(n.a)(i),l=Object(a.d)(i),u=Object(a.c)(i);if(c&&l&&u)return{teamId:c,enterpriseId:d,userId:l,versionTs:u}}}},M=!1,U={};function N(e){var t=x(e);if(!t)return(M||!Object(d.a)()&&!Object(l.a)())&&Object(c.b)().warn("TRACES","You tried to get a team-specific tracer but didn\u2019t provide enough context and are getting the generic tracer instead which is likely not what you want."),G();var{teamId:r,enterpriseId:o,userId:n,versionTs:a}=t;if(!U[r]){var i=new tracer_Tracer;i.setTeam(r).setEnterprise(o).setUser(n).setVersionTs(a).setSubAppName(Object(s.c)()||"legacy"),U[r]=i}return U[r]}function G(){if(!U.generic){var e=new tracer_Tracer;e.setSubAppName(Object(s.c)()||"legacy").setVersionTs(Object(i.a)()),U.generic=e}return U.generic}Object(o.a)("getTracer",N)},"/gpl":function(e,t,r){"use strict";r.d(t,"a",function(){return n});var o=/^@?A[A-Z0-9]{8,}$/;function n(e){return o.test(e)}},"0QyR":function(e,t,r){"use strict";var o=r("Ff2n"),n=r("rePB"),a=r("9oTK"),s=r("3Hq1"),i=r("CpTu"),c=r("owWc"),d=r("1PKr"),l=r("Omjo"),u=r("Lg4S"),m=r("HDs8"),p=r("0oUp"),b=r("VL9c"),f=r("1j8a"),_=15e3,h=null,g=null,O=0,v=10,y=1e3;function w(){return g||(g=function e(){return Object(p.a)().catch(()=>O>v?Promise.reject(new Error("boot_exceeded_maximum_network_retries")):new Promise(t=>{clearTimeout(h),h=setTimeout(()=>{O+=1,t(e())},y)}))}().finally(()=>{clearTimeout(h),h=null,g=null})),g}function j(){var e,{maxTimePausedMs:t=_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={online:!0},o=()=>{r.online=!1,e=window.setTimeout(()=>{throw new Error("Boot queue paused for too long")},t)},n=()=>{r.online=!0,window.clearTimeout(e),e=void 0},a={apiQ:new m.a({isOnline:()=>r.online,reconnectClient:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),w().then(t).catch(()=>{throw new f.a("Could not complete boot due to loss of network connectivity",{name:"BootNetworkConnectionError"})})})({setOffline:o,setOnline:n}),reconnectService:()=>(function(){var{setOffline:e,setOnline:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(),Object(b.a)().then(t).catch(()=>{throw new f.a("Could not complete boot due to loss of API service",{name:"BootApiConnectionError"})})})({setOffline:o,setOnline:n})}),q:function(){return a.apiQ&&a.apiQ.q(...arguments)},stop:()=>{a.apiQ.stop(),a.apiQ.clearStatsInterval(),delete a.apiQ,a.apiQ=void 0,window.clearTimeout(e),e=void 0}};return a}var I=r("Gogr"),S=r("juCJ"),T=1e3;var k=432e6;var P=r("IbTH"),D=r("/gpl"),E=r("fujP"),A=r("HLHh"),B=r("4ULK"),W=r("nOCT"),F=r("yHhI"),C=r("UioL");function R(){return(R=Object(a.coroutine)(function*(){var e,t,{teamId:r,userId:o,forceAPI:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(F.a)({teamId:r});if(n)return a.info("BOOT","Skipping persisted store if it exists because we're forcing fresh data fetch anyway"),!1;if(function(e){var t=Object(F.a)({teamId:e}),r=Object(W.c)(),o=Object(I.d)(e,"versionDataTs");return t.info("BOOT","Minimum supported data version is ".concat(r,"; currently on ").concat(o)),!o||o<r}(r))return a.info("BOOT","Skipping checking persisted store because if it exists it's out of date"),Object(B.a)(r),!1;if(!Object(A.a)())return a.info("BOOT","indexedDB is unavailable, not checking for a persisted store"),!1;try{e=yield Object(C.a)({teamId:r,userId:o})}catch(s){return a.error("BOOT","Unable to get get stored state from IndexedDB",s),!1}return!(t=e)||Object(E.a)(t.bootData)?(a.info("BOOT","Unable to find stored state"),!1):e})).apply(this,arguments)}var L=r("btH0"),x=r("Zr7G"),M=r("/Bt+"),U=r("jr0b"),N=r("+Sjy");function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var q=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r("L6kU").a,{feature_classic_nav:!0,feature_global_nav:!1,feature_modern_sounds:!0,feature_offline_mode:!0,feature_sidebar_context_menu:!0,feature_sonic_clipboard:!0,feature_sonic_edit_profile:!0,feature_sonic_placeholder_labels:!0,feature_sonic_find_more_wksps:!0,feature_sonic_snippets:!0,feature_incremental_unread_counts:!0,feature_sonic_inputs:!0,feature_sonic_emoji:!0,feature_modern_gdrive_create:!0,feature_app_actions_fe_refactor:!0,feature_file_comment_deleted_rtm_handler:!0,feature_modern_profile_flexpane:!0,feature_modernize_slack_actions:!0,feature_react_file_viewer:!0,feature_react_member_profile_card:!0,feature_select_model_option_fetcher_m11n:!0,feature_sonic_activity:!0,feature_sonic_cloud_files_picker:!0,feature_sonic_dnd_manager:!0,feature_sonic_dnd_rtm:!0,feature_sonic_member_directory:!0,feature_sonic_pins:!0,feature_sonic_presence_manager:!0,feature_sonic_user_groups:!0,feature_unified_member:!0,feature_sonic_channel_options:!0,feature_m11n_apps_browser:!0,feature_sonic_frequent_emoji_from_pref:!0,feature_modern_request_workspace_dialog:!0,feature_sonic_leave_workspace_dialog:!0,feature_m11n_channel_details:!0,feature_modernize_channel_create_modal:!0,feature_sonic_dm_browser:!0,feature_sonic_esc_creation:!0});function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){Object(n.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,"b",function(){return $}),r.d(t,"a",function(){return Z});var z=e=>!(!e||!e.is_im),K=e=>!(!e||!e.is_mpim),Q=e=>z(e)&&e.user,X=e=>K(e)&&e.members;function Z(){return J.apply(this,arguments)}function J(){return(J=Object(a.coroutine)(function*(){var e,{teamId:t,teamToken:r,userId:o,shouldSetFocus:n,routeInfo:a=null,forceAPI:s=!1,bootQueue:c=j(),bootedOffline:d,reason:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=yield function(){return R.apply(this,arguments)}({teamId:t,userId:o,forceAPI:s}),b=!!p;if(b&&((e=Object(I.c)("lastColdBootTs"))&&Date.now()-e>k)&&!d&&(yield S.b.fetch({url:"/api/api.test",timeout:T}).then(e=>{var{ok:t}=JSON.parse(e);return!0===t}).catch(e=>(Object(l.a)(e),!1)))&&(b=!1,Object(x.a)().count("sonic_boot_data_fetch_ignoring_persisted_cache")),b)return Object(l.b)("BOOT","(".concat(t,") Booting with persisted store")),{isWarmBooting:!0,bootData:p};c.apiQ.assignApiCallThreshold(Object(u.c)(n));var f=[re({bootQueue:c,token:r,teamId:t,reason:m,userId:o}),Object(P.f)({bootQueue:c,overrides:q,shouldFetchCached:!0,teamId:t,token:r}),Object(P.e)({bootQueue:c,shouldFetchCached:!0,teamId:t,token:r,userId:o})],_=a&&a.params&&a.params.entityId;!_||Object(L.a)(_)||Object(N.g)(_)||Object(D.a)(_)?Object(L.a)(_)||Object(N.g)(_)||Object(D.a)(_)||(Object(l.b)("BOOT","Couldn't determine boot channel. Falling back to default channel"),f.push(Y({bootQueue:c,token:r,teamId:t}))):(Object(l.b)("BOOT","Booting into channel: ".concat(_)),f.push(Y({bootQueue:c,token:r,teamId:t,id:_})));var[h,g,O,v]=yield Promise.all(f),{appHomesData:y,selfData:w,teamData:E,teamPrefsData:A,userPrefsData:B,userGroupMembershipData:W,channelsData:F,membersToFetch:C,paidFeatures:M,emojiBootData:U,slashCommandsBootData:G,acceptTosUrl:H,channelsPrefsData:z}=h,K=!1,Q=!1,X=null,Z=null;if(B&&!B.onboarding_complete)if(B.tractor_enabled){var J=yield Object(P.m)({bootQueue:c,token:r,teamId:t});K=(X=Object(i.a)(J,e=>"account_setup"===e.type&&"team_creation"===e.subtype))&&"completed"!==X.state}else"none"!==B.welcome_place_state?"enabled"===B.welcome_place_state&&(Q=!0):B.seen_welcome_2||(Q=!0);B&&"enabled"===B.welcome_place_state&&(Z=yield Object(P.n)({bootQueue:c,token:r,teamId:t}));var $,ee,te=document.documentElement,oe={app:"client",api_token:r,user_id:w&&w.id,version_ts:te&&te.dataset?te.dataset.versionTs:"unknown",version_uid:te&&te.dataset?te.dataset.versionHash:"unknown",shouldStartCreatorOnboarding:K,shouldStartJoinerOnboarding:Q,teamCreationWorkflow:X,welcomePlaceOnboardingData:Z,acceptTosUrl:H};if("should_reload"in h&&(oe.should_reload=h.should_reload,oe.client_min_version=h.client_min_version,h.should_reload))return{bootData:{miscBootData:oe}};if(w&&w.enterprise_user){var ne=Object(I.d)(t,"enterprise_api_token"),[ae,se]=yield Promise.all([Object(P.c)({bootQueue:c,token:r,teamId:t}),Object(P.d)({bootQueue:c,token:ne,teamId:t})]);oe.enterprise_id=w.enterprise_user.enterprise_id,oe.page_needs_enterprise=!0,oe.enterprise_api_token=ne,$=ae,ee=se}if(v&&v.channelData){var ie=F.findIndex(e=>e&&e.id===v.channelData.id);if(-1!==ie){var ce=V({},F[ie],{},v.channelData);F.splice(ie,1,ce)}}return c.stop(),{isWarmBooting:!1,bootData:{appHomesData:y,channelsData:F,membersToFetch:C,teamData:E,viewData:v||null,selfData:w,featureFlagData:g,experimentsData:O,miscBootData:oe,userPrefsData:B,teamPrefsData:A,userGroupMembershipData:W,enterpriseData:$,enterprisePrefsData:ee,paidFeatures:M,emojiBootData:U,slashCommandsBootData:G,channelsPrefsData:z}}})).apply(this,arguments)}function Y(e){var{bootQueue:t,token:r,teamId:o,id:n=null}=e,a={token:r,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,no_members:!0};n&&(a.channel=n);var s=new d.b({method:"conversations.view",args:a,teamId:o});return t.q(s).then(e=>{var t=e.history.messages,r=e.channel||e.group||e.im,o=r&&r.id,n={channelId:o,count:e.history.channel_actions_count||0};return{channelData:r,messagesData:{msgs:t,channelId:o,latest:t.length>0?t[0].ts:null,oldest:t.length>0?t[t.length-1].ts:null,hasMore:{hasMoreEnd:!1,hasMoreStart:e.history.has_more},isLimited:e.history.is_limited},membersData:e.users,botsData:e.bots,channelActionsData:n}}).catch(e=>{if(e.data&&"channel_not_found"===e.data.error){if(n)return Y({bootQueue:t,token:r,teamId:o});var a=new d.b({method:"im.open",args:{user:"USLACKBOT",token:r},teamId:o});return t.q(a).then(e=>Y({bootQueue:t,token:r,teamId:o,id:e.channel.id}))}throw e})}function $(e){var{team:t,subteams:r,self:n,prefs:a,app_homes:i,paid_features:d,emoji_cache_ts:l,commands_cache_ts:u,can_manage_shared_channels:m,accept_tos_url:p,channels_prefs:b,should_reload:f,client_min_version:_}=e,h=Object(o.a)(e,["team","subteams","self","prefs","app_homes","paid_features","emoji_cache_ts","commands_cache_ts","can_manage_shared_channels","accept_tos_url","channels_prefs","should_reload","client_min_version"]),g={};if(!Object(s.a)(f)&&(g.should_reload=f,g.client_min_version=_,f))return g;var O,v=V({},t.prefs,{can_user_manage_shared_channels:m}),y=[...r.self],w=function(e){var t=[...e.channels||[],...e.ims||[],...e.mpims||[]],r=e.channels_latest,o=[];if(t&&r)for(var{last_read:n={},channels_priority:a={},is_open:s=[],starred:i=[],thread_only_channels:c=[],read_only_channels:d=[]}=e,l=s.reduce((e,t)=>(e[t]=!0,e),{}),u=i.reduce((e,t)=>(e[t]=!0,e),{}),m=c.reduce((e,t)=>(e[t]=!0,e),{}),p=d.reduce((e,t)=>(e[t]=!0,e),{}),b=t.length,f=0;f<b;f++){var _=t[f],h=_.id,g=!!r[h],O=z(_)||K(_)||g,v=n[h],y=a[h],w=!!u[h],j=!!l[h],I=!!m[h],S=!!p[h],T=z(_)||K(_)?V({},_,{is_member:O,latest:"0000000000.000000",last_read:v,priority:y,is_starred:w,is_open:j}):V({},_,{is_member:O,latest:"0000000000.000000",last_read:v,priority:y,is_starred:w,is_thread_only:I,is_read_only:S});o.push(T)}return o}(V({},h,{teamId:t.id})),j=(e.ims||[]).map(e=>Q(e)),I=(O=e.mpims)?Object(c.a)(O,(e,t)=>{if(!t)return e;var r=X(t)||[];return e.push(...r),e},[]):[];return g=V({},g,{selfData:n,teamData:t,teamPrefsData:v,userPrefsData:a,channelsData:w,appHomesData:i,membersToFetch:j.concat(I).filter((e,t,r)=>r.indexOf(e)===t),userGroupMembershipData:y,paidFeatures:d,emojiBootData:{cacheTs:l},slashCommandsBootData:{cacheTs:u},acceptTosUrl:p,channelsPrefsData:b})}var ee="cse-api",te="cse-boot-api";function re(e){var{bootQueue:t,token:r,teamId:o,reason:n,userId:a}=e;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object(M.a)(),o=r.createTrace(ee,t);if(!o||!o.traceFn)return Object(F.b)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.boot data fetch."),e();return o.traceFn({name:te,onError:(e,t)=>{var n={state:U.a.ERROR};t.status&&(n.status=t.status);t.message&&(n.message=t.message);t.data&&t.data.error&&(n.reason=t.data.error);e.addTags(n),e.close(),r.reportTrace(o)},onResolve:()=>{r.clearTrace(o)}},e)}(P.b.bind(this,{bootQueue:t,token:r,teamId:o,reason:n}),{teamId:o,userId:a,reason:n}).then($)}},"0oUp":function(e,t,r){"use strict";var o=r("oTSI"),n=r("ifKl"),a=r("ZP0B");var s=r("juCJ"),i=r("lSe/"),c=r("Z7Ay"),d=r("rWF5"),l=r("afo6"),u="NETWORK-CONNECTIVITY",m=Object(o.a)(()=>new l.a({testConnectivity:I,logLabel:u})),p=()=>m().waitForConnectivity(),b=(t.a=p,0),f=!1,_=!1,h=1e3,g=h,O=["https://a.slack-edge.com/f70ec/img/test_cdn_pixel.gif","https://b.slack-edge.com/f70ec/img/test_cdn_pixel.gif"],v=99,y=10,w=0,j=0;function I(){Object(i.d)(u,"Testing network connectivity...");var e=!f&&!_&&b&&b%y==0&&(Object(d.k)()||Object(d.v)());if(!1===navigator.onLine&&(Object(i.d)(u,"Browser says we\u2019re offline."),!(e||b%100===v))){b+=1;var t=new Error("Browser says we\u2019re offline");return t.retryAfter=g,t.totalRetryAttempts=b,Promise.reject(t)}var r=w-(Date.now()-j);if(r>0){var o="Waiting on CDN full backoff. Waiting an additional ".concat(r,"ms");Object(i.d)(u,o);var s=new Error(o);return s.retryAfter=r,s.totalRetryAttempts=b,Promise.reject(s)}return j=Date.now(),S().tap(()=>{!1===navigator.onLine&&e&&(_=!0,S().tap(()=>{if(!1===navigator.onLine){Object(i.f)(u,"navigator.onLine appears to be untrustworthy; enabling workaround."),f=!0;try{Object.defineProperty(navigator,"onLine",{get:()=>!0})}catch(e){}}}).catch(n.a)),Object(i.d)(u,"Successfully fetched resources from the CDN. We\u2019re online!"),b=0}).catch(e=>{Object(i.d)(u,"Failed to fetch resources from the CDN with ".concat(e,"."));var t=new Error("Failed to fetch resources from the CDN");return w=Object(a.a)(e.map(e=>{return e&&e.retryAfter||h})),b+=1,t.totalRetryAttempts=b,t.retryAfter=g,Promise.reject(t)})}function S(){return Promise.any(O.map(e=>"".concat(e,"?q=").concat((Date.now()*Math.random()).toString(36))).map(e=>s.b.fetch({url:e})))}Object(c.a)("waitForNetworkConnection",p)},"1tsX":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var o=r("quKg"),n=r("Smdl"),a=r("kcos");function s(e){return Object(a.d)(e)||("treatment"===Object(o.c)(e,"platform_app_launcher_free_team")||"treatment"===Object(o.c)(e,"platform_app_launcher_std_plus_team"))&&Object(n.a)()}},"1zgd":function(e,t,r){"use strict";r.d(t,"a",function(){return a});var o=r("rWF5"),n=r("Yd+W"),a=e=>(e.subtype!==n.e.EnableNotifications||!Object(o.v)())&&!(e.subtype===n.e.DownloadDesktopApp&&!Object(o.j)())},"2cus":function(e,t,r){"use strict";r.d(t,"b",function(){return i}),r.d(t,"a",function(){return c}),r.d(t,"f",function(){return l}),r.d(t,"i",function(){return u}),r.d(t,"h",function(){return m}),r.d(t,"g",function(){return p}),r.d(t,"q",function(){return f}),r.d(t,"o",function(){return _}),r.d(t,"n",function(){return h}),r.d(t,"p",function(){return g}),r.d(t,"j",function(){return O}),r.d(t,"u",function(){return v}),r.d(t,"t",function(){return w}),r.d(t,"s",function(){return j}),r.d(t,"r",function(){return I}),r.d(t,"e",function(){return S}),r.d(t,"d",function(){return T}),r.d(t,"c",function(){return k}),r.d(t,"l",function(){return E}),r.d(t,"m",function(){return A}),r.d(t,"k",function(){return B}),r.d(t,"w",function(){return W}),r.d(t,"v",function(){return F});var o=r("wd/R"),n=r.n(o),a=r("U/ze"),s=r("g5qt"),i={PAID:"paid",FREE_NO_TRIAL:"free_no_trial",FREE_EXPIRED_TRIAL:"free_expired_trial",IN_TRIAL:"in_trial"},c={SIDEBAR_BENEFITS_TAB:"sidebar_benefits_tab",SIDEBAR_UPGRADE_BUTTON:"sidebar_upgrade_button"},d=Object(a.b)(e=>e&&e.promo&&e.promo.launchModal);d.meta={name:"selectPromoLaunchModalData",key:"promoStorePromoSelectorsSelectPromoLaunchModalData"};var l=Object(a.b)(e=>{var t=d(e);return!!t&&!!t.isEnabled});l.meta={name:"selectLaunchModalIsEnabled",key:"promoStorePromoSelectorsSelectLaunchModalIsEnabled"};var u=Object(a.b)(e=>{var t=d(e);return t&&t.name?t.name:null});u.meta={name:"selectLaunchModalName",key:"promoStorePromoSelectorsSelectLaunchModalName"};var m=Object(a.b)(e=>"trial_last_day_modal"===u(e));m.meta={name:"selectLaunchModalIsTrialLastDayModal",key:"promoStorePromoSelectorsSelectLaunchModalIsTrialLastDayModal"};var p=Object(a.b)(e=>"trial_downgrade_survey"===u(e));p.meta={name:"selectLaunchModalIsTrialDowngradeModal",key:"promoStorePromoSelectorsSelectLaunchModalIsTrialDowngradeModal"};var b=Object(a.b)(e=>e&&e.promo&&e.promo.sidebarFooter);b.meta={name:"selectPromoSidebarFooterData",key:"promoStorePromoSelectorsSelectPromoSidebarFooterData"};var f=Object(a.b)(e=>{var t=b(e);return t&&t.name?t.name:null});f.meta={name:"selectSidebarFooterName",key:"promoStorePromoSelectorsSelectSidebarFooterName"};var _=Object(a.b)(e=>{var t=b(e);return!!t&&!!t.isEnabled});_.meta={name:"selectSidebarFooterIsEnabled",key:"promoStorePromoSelectorsSelectSidebarFooterIsEnabled"};var h=Object(a.b)(e=>_(e)&&f(e)===c.SIDEBAR_BENEFITS_TAB);h.meta={name:"selectSidebarFooterIsBenefitsEnabled",key:"promoStorePromoSelectorsSelectSidebarFooterIsBenefitsEnabled"};var g=Object(a.b)(e=>_(e)&&f(e)===c.SIDEBAR_UPGRADE_BUTTON&&!Object(s.U)());g.meta={name:"selectSidebarFooterIsUpgradeCTAEnabled",key:"promoStorePromoSelectorsSelectSidebarFooterIsUpgradeCTAEnabled"};var O=Object(a.b)(e=>{var t=b(e);return t?t.renewalLevel:null});O.meta={name:"selectPlanRenewalLevel",key:"promoStorePromoSelectorsSelectPlanRenewalLevel"};var v=Object(a.b)(e=>e&&e.promo&&e.promo.teamPlanInfo&&e.promo.teamPlanInfo.name);v.meta={name:"selectTeamPlanInfoName",key:"promoStorePromoSelectorsSelectTeamPlanInfoName"};var y=Object(a.b)(e=>e&&e.promo&&e.promo.teamPlanInfo&&e.promo.teamPlanInfo.data||{});y.meta={name:"selectTeamPlanInfoData",key:"promoStorePromoSelectorsSelectTeamPlanInfoData"};var w=Object(a.b)(e=>{var t=y(e);return t?t.trial_plan_level:null});w.meta={name:"selectTeamMenuTrialPlanLevel",key:"promoStorePromoSelectorsSelectTeamMenuTrialPlanLevel"};var j=Object(a.b)(e=>{var t=y(e);return t&&"0000-00-00"!==t.expirationDate?n()(t.trial_expiration_date).diff(n()().startOf("day"),"days"):null});j.meta={name:"selectTeamMenuTrialNumDaysRemaining",key:"promoStorePromoSelectorsSelectTeamMenuTrialNumDaysRemaining"};var I=Object(a.b)(e=>{var t=y(e);return t?t.checkout_product_id:null});I.meta={name:"selectTeamMenuTrialCheckoutProductId",key:"promoStorePromoSelectorsSelectTeamMenuTrialCheckoutProductId"};var S=Object(a.b)(e=>{var t=y(e);return t?t.promo_type:null});S.meta={name:"selectDiscountPromoType",key:"promoStorePromoSelectorsSelectDiscountPromoType"};var T=Object(a.b)(e=>{var t=y(e);return t?t.subtype:null});T.meta={name:"selectDiscountPromoSubType",key:"promoStorePromoSelectorsSelectDiscountPromoSubType"};var k=Object(a.b)(e=>{var t=y(e);return t?t.discount_pct:null});k.meta={name:"selectDiscountPromoPercent",key:"promoStorePromoSelectorsSelectDiscountPromoPercent"};var P=Object(a.b)(e=>e&&e.promo&&e.promo.shared);P.meta={name:"selectPromoSharedData",key:"promoStorePromoSelectorsSelectPromoSharedData"};var D=Object(a.b)(e=>{var t=P(e);return t?t.trial:null});D.meta={name:"selectSharedTrialData",key:"promoStorePromoSelectorsSelectSharedTrialData"};var E=Object(a.b)(e=>{var t=D(e);return t&&"0000-00-00"!==t.expirationDate?t.expirationDate:null});E.meta={name:"selectSharedTrialExpirationDate",key:"promoStorePromoSelectorsSelectSharedTrialExpirationDate"};var A=Object(a.b)(e=>{var t=D(e);return t?t.planLevel:null});A.meta={name:"selectSharedTrialPlanLevel",key:"promoStorePromoSelectorsSelectSharedTrialPlanLevel"};var B=Object(a.b)(e=>{var t=P(e);return t?t.checkoutProductId:null});B.meta={name:"selectSharedCheckoutProductId",key:"promoStorePromoSelectorsSelectSharedCheckoutProductId"};var W=Object(a.b)(e=>{var t=E(e);return t?n()(t).diff(n()().startOf("day"),"days"):null});W.meta={name:"selectTrialDaysRemaining",key:"promoStorePromoSelectorsSelectTrialDaysRemaining"};var F=Object(a.b)(e=>{return O(e)?i.PAID:E(e)?W(e)<=0?i.FREE_EXPIRED_TRIAL:i.IN_TRIAL:i.FREE_NO_TRIAL});F.meta={name:"selectTeamTrialState",key:"promoStorePromoSelectorsSelectTeamTrialState"}},"4v0o":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var o={allUnreads:"Vall_unreads",allThreads:"Vall_threads",search:"Vsearch"}},D6w7:function(e,t,r){"use strict";r.d(t,"c",function(){return f}),r.d(t,"a",function(){return _}),r.d(t,"b",function(){return h}),r.d(t,"d",function(){return O}),r.d(t,"e",function(){return v});var o=r("rePB"),n=r("Z0Cl"),a=r("7EGn"),s=r("zmn3"),i=r("pHS2"),c=r("OZf9"),d=r("wd/R"),l=r.n(d),u=r("U/ze"),m=r("HBMi"),p=r("quKg");function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var f=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions&&e.inbox.stars&&e.inbox.reminders&&function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){Object(o.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.inbox.mentions,{},e.inbox.stars,{},e.inbox.reminders),r=Object(a.a)(e,"inbox.archives",{mentions:[],stars:[],reminders:[]}),n=Object(a.a)(e,"inbox.reads",{mentions:[],stars:[],reminders:[]});Object(c.a)(t,e=>{t[e.id]&&(t[e.id].archived=!1,t[e.id].read=!1,r.mentions&&r.mentions.includes(e.id)&&(t[e.id].archived=!0),r.stars&&r.stars.includes(e.id)&&(t[e.id].archived=!0),n.mentions&&n.mentions.includes(e.id)&&(t[e.id].read=!0),n.stars&&n.stars.includes(e.id)&&(t[e.id].read=!0)),t[e.reminderId]&&(t[e.reminderId].archived=!1,t[e.reminderId].read=!1,r.reminders&&r.reminders.includes(e.reminderId)&&(t[e.reminderId].archived=!0),n.reminders&&n.reminders.includes(e.reminderId)&&(t[e.reminderId].read=!0))});var d=Object.keys(t).sort().reverse(),u={};Object(c.a)(d,e=>{u[e]=t[e]});var p=Object(i.a)(u,e=>l()(Object(m.a)(e.id)).startOf("day")),f={};return Object.keys(p).sort((e,t)=>new Date(t).getTime()-new Date(e).getTime()).forEach(e=>{f[e]=p[e]}),Object(s.a)(f,e=>e)});f.meta={name:"getInboxItems",key:"inboxStoreInboxSelectorsGetInboxItems"};var _=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.mentions;return Object(n.a)(t,e=>null===e.subtype)});_.meta={name:"getInboxChannelMentions",key:"inboxStoreInboxSelectorsGetInboxChannelMentions"};var h=Object(u.b)(e=>e&&e.inbox&&e.inbox.cursorMarks||{});h.meta={name:"getInboxCursorMarks",key:"inboxStoreInboxSelectorsGetInboxCursorMarks"};var g={mentions:[],stars:[],reminders:[]},O=Object(u.b)(e=>{var t=e&&e.inbox&&e.inbox.reads||g,r=e&&e.inbox&&e.inbox.archives||g,o=[...new Set((t.mentions||[]).concat(r.mentions||[]))],n=[...new Set((t.stars||[]).concat(r.stars||[]))],a=[...new Set((t.reminders||[]).concat(r.reminders||[]))];return Object.keys(e.inbox.mentions).some(e=>!o.includes(e))||Object.keys(e.inbox.stars).some(e=>!n.includes(e))||Object.keys(e.inbox.reminders).some(e=>!a.includes(e))});O.meta={name:"isHomePageLinkBold",key:"inboxStoreInboxSelectorsIsHomePageLinkBold"};var v=Object(u.b)(e=>Object(p.c)(e,"inbox"));v.meta={name:"isInboxEnabled",key:"inboxStoreInboxSelectorsIsInboxEnabled"}},Er5K:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return n}),r.d(t,"c",function(){return a});var o=["about","space"],n=["app","about","settings"];function a(e){return-1!==o.indexOf(e)||-1!==n.indexOf(e)||0===e.indexOf("embed")}},HBMi:function(e,t,r){"use strict";var o=r("RjUC"),n=r("XxnT");t.a=function(e){var t,r,{parseFormat:a="unix",returnMoment:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="unix"!==a;if(n.a.isMoment(e))return s?e:Object(n.a)(e).toDate();if(Object(o.a)(e))return s?Object(n.a)(e.getTime()):e;if(i&&"string"==typeof e&&(r=e),i||"string"!=typeof e&&"number"!=typeof e||(r="string"==typeof e?parseFloat(e):e),i&&(t=Object(n.a)(r,a)),i||"number"!=typeof r||(t=r.toString().split(".")[0].length>11?Object(n.a)(r):n.a.unix(r)),t&&n.a.isMoment(t)&&s)return t;if(t&&n.a.isMoment(t)&&!s)return Object(n.a)(t).toDate();throw new Error("The timestamp value couldn\u2019t be parsed by the toDateObject() function!")}},HuaI:function(e,t,r){"use strict";r.r(t),r.d(t,"initialize",function(){return s}),r.d(t,"addWorkspace",function(){return i}),r.d(t,"updateWorkspaceMeta",function(){return c}),r.d(t,"internalSetFocusedWorkspace",function(){return d}),r.d(t,"internalRemoveWorkspace",function(){return l}),r.d(t,"internalWorkspacesRemoved",function(){return u}),r.d(t,"internalRemoveWorkspaceType",function(){return m}),r.d(t,"internalSetFocusedWorkspaceType",function(){return p}),r.d(t,"internalWorkspacesRemovedType",function(){return b}),r.d(t,"setWorkspaceOrder",function(){return f}),r.d(t,"setWorkspaceBooted",function(){return _}),r.d(t,"setDidBootAllWorkspaces",function(){return h}),r.d(t,"setWorkspaceFailedToBoot",function(){return g}),r.d(t,"setWorkspaceIsMigrating",function(){return O}),r.d(t,"setWorkspaceMigrationIsComplete",function(){return v}),r.d(t,"setWorkspaceIsAccessLimited",function(){return y}),r.d(t,"setWillNavigateToUnbootedWorkspaceId",function(){return w});var o=r("aK/h"),n=r("EzZj"),a=r("Z7Ay"),s=Object(n.b)("Initializes the store and sets the initial focused workspace ID");s.meta={name:"initialize",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInitialize",description:"Initializes the store and sets the initial focused workspace ID"},s.propTypes=o.default.object.isRequired;var i=Object(n.b)("Adds a new workspace to the store (but does not boot it)");i.meta={name:"addWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsAddWorkspace",description:"Adds a new workspace to the store (but does not boot it)"},i.propTypes={id:o.default.string.isRequired,meta:o.default.object.isRequired};var c=Object(n.b)("Updates the metadata associated with a given workspace");c.meta={name:"updateWorkspaceMeta",key:"appSonicReduxWorkspacesStoreWorkspacesActionsUpdateWorkspaceMeta",description:"Updates the metadata associated with a given workspace"},c.propTypes={id:o.default.string.isRequired,meta:o.default.object.isRequired};var d=Object(n.b)("Actually focus a workspace");d.meta={name:"internalSetFocusedWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalSetFocusedWorkspace",description:"Actually focus a workspace"},d.propTypes=o.default.string.isRequired;var l=Object(n.b)("Removes a workspace from the store");l.meta={name:"internalRemoveWorkspace",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalRemoveWorkspace",description:"Removes a workspace from the store"},l.propTypes=o.default.string.isRequired;var u=Object(n.b)("Signals that a workspace has been removed");u.meta={name:"internalWorkspacesRemoved",key:"appSonicReduxWorkspacesStoreWorkspacesActionsInternalWorkspacesRemoved",description:"Signals that a workspace has been removed"},u.propTypes=o.default.arrayOf(o.default.string).isRequired;var m=l.getType(),p=d.getType(),b=u.getType(),f=Object(n.b)("Sets the order of workspaces for display");f.meta={name:"setWorkspaceOrder",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceOrder",description:"Sets the order of workspaces for display"},f.propTypes=o.default.arrayOf(o.default.string).isRequired;var _=Object(n.b)("Sets the workspace booted state");_.meta={name:"setWorkspaceBooted",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceBooted",description:"Sets the workspace booted state"},_.propTypes=o.default.string.isRequired;var h=Object(n.b)("Indicates that we have completed (or attempted) boot for all known workspaces");h.meta={name:"setDidBootAllWorkspaces",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetDidBootAllWorkspaces",description:"Indicates that we have completed (or attempted) boot for all known workspaces"},h.propTypes=null;var g=Object(n.b)("Sets the workspace failed to boot state");g.meta={name:"setWorkspaceFailedToBoot",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceFailedToBoot",description:"Sets the workspace failed to boot state"},g.propTypes=o.default.string.isRequired;var O=Object(n.b)("Indicates that the given workspace is in the middle of an org migration");O.meta={name:"setWorkspaceIsMigrating",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsMigrating",description:"Indicates that the given workspace is in the middle of an org migration"},O.propTypes=o.default.string.isRequired;var v=Object(n.b)("Indicates that the given workspace has completed migrating to an org");v.meta={name:"setWorkspaceMigrationIsComplete",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceMigrationIsComplete",description:"Indicates that the given workspace has completed migrating to an org"},v.propTypes=o.default.string.isRequired;var y=Object(n.b)("Indicates that the given workspace has its access limited on this network");y.meta={name:"setWorkspaceIsAccessLimited",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWorkspaceIsAccessLimited",description:"Indicates that the given workspace has its access limited on this network"},y.propTypes=o.default.string.isRequired;var w=Object(n.b)("Sets the workspace clicked on from sidebar while workspace is still booting.");w.meta={name:"setWillNavigateToUnbootedWorkspaceId",key:"appSonicReduxWorkspacesStoreWorkspacesActionsSetWillNavigateToUnbootedWorkspaceId",description:"Sets the workspace clicked on from sidebar while workspace is still booting."},w.propTypes=o.default.string,Object(a.a)("workspacesStoreActions",{setWorkspaceOrder:f,setWorkspaceBooted:_})},L6kU:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var o={}},Lg4S:function(e,t,r){"use strict";r.d(t,"b",function(){return o}),r.d(t,"a",function(){return n}),r.d(t,"c",function(){return a});var o=10,n=1;function a(e){return e?o:n}},POHe:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var o=new Map},UioL:function(e,t,r){"use strict";var o=r("fujP"),n=r("kymL"),a=r("JtEI"),s=r("Z0v/"),i=r("eK5+"),c=r("Zr7G"),d=r("yHhI"),l=Object(i.a)(10),u="".concat(s.h,"_get_stored_state_from_idb_mark_").concat(s.i),m="".concat(s.h,"_get_stored_state_from_idb_success_").concat(s.i),p="".concat(s.h,"_get_stored_state_from_idb_failure_").concat(s.i);t.a=function(){var{teamId:e,userId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(d.a)({teamId:e}),i=Object(c.a)(),b=Object(s.H)({appName:Object(a.c)(),teamId:e,userId:t}),f="persist:".concat(b);return l&&i.mark(u),r.info(s.F,"Getting state from IndexedDB"),n.a.get(f).then(e=>!e||Object(o.a)(e)?(l&&i.clearMarks(u),r.info(s.F,"No state found in IndexedDB"),!1):(l&&(i.measureAndClear(u),i.count(m)),r.info(s.F,"Successfully got state from IndexedDB"),e)).catch(e=>(l&&(i.clearMarks(u),i.count(p)),r.error(s.F,"Error calling persistDB.get in getStoredStateFromIdb",e),!1))}},V6fv:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var o=/^p?(\d{10})\.?(\d{6})$/;function n(e){return e&&o.test(e)?e.replace(o,"$1.$2"):null}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return e?n(String((+e/1e3).toFixed(6))):null}},VL9c:function(e,t,r){"use strict";var o=r("oTSI"),n=r("lSe/"),a=r("Z7Ay"),s=r("k1i/"),i=r("eK5+"),c=r("Zr7G"),d=r("MFhL"),l=r("Smdl"),u=r("afo6"),m="API-CONNECTIVITY",p=Object(i.a)(100),b=Object(o.a)(()=>new u.a({testConnectivity:v,logLabel:m,metricsLabel:"api",shouldCollectConnectivityMetrics:p})),f=()=>b().waitForConnectivity();t.a=f;var _=0,h=1e3,g=()=>{var e={_x_reason:"api_connectivity_test"};Object(l.a)()&&(e._x_sonic=!0);var t=Object(d.a)(e);return new s.a({url:"https://www.slack.com/api/api.test",maxRetryAfter:6e4,payload:t}).send()},O=g;function v(){return Object(n.d)(m,"Testing API connectivity..."),O().tap(()=>{p&&_&&Object(c.a)().count("cm_api_connected_with_retries",_),Object(n.d)(m,"Successfully fetched from api.test. Onward!"),_=0}).catch(e=>{Object(n.d)(m,"Failed to fetch from api.test ".concat(e,"."));var t=new Error("Failed to fetch from api.test");return t.retryAfter=e.retryAfter||h,_+=1,t.totalRetryAttempts=_,Promise.reject(t)})}Object(a.a)("waitForApiConnection",f),Object(a.a)("mockServiceDisconnection",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:42,t=0;O=(()=>(t+=1)===e?(t=0,O=g,Promise.resolve()):Promise.reject(new Error("Shhhh... we\u2019re pretending to have a bad time."))),window.slackDebug.activeTeam.api.q.debugServiceDisconnect()})},VMwU:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"f",function(){return a}),r.d(t,"l",function(){return s}),r.d(t,"h",function(){return i}),r.d(t,"g",function(){return c}),r.d(t,"e",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"i",function(){return u}),r.d(t,"j",function(){return m}),r.d(t,"d",function(){return p}),r.d(t,"m",function(){return b}),r.d(t,"k",function(){return h}),r.d(t,"b",function(){return g});var o=r("rWF5"),n={column_bg:"#3F0E40",menu_bg:"#350d36",active_item:"#1164A3",active_item_text:"#FFFFFF",hover_item:"#350D36",text_color:"#FFFFFF",active_presence:"#2BAC76",badge:"#CD2553"},a=e=>{if(!e)return null;var t="#"===e[0]?e.substring(1):e,r=parseInt(t,16),o=[r>>16&255,r>>8&255,r>>0&255];return t.length>6?[r>>24&255,...o]:o},s=e=>{var t=e.map(e=>{var t=e.toString(16);return 1===t.length?"0".concat(t):t}).join("").toUpperCase();return"#".concat(t)},i=e=>{var[t,r,o,n]=e;if(0===r)return("number"==typeof n?[o,o,o,n]:[o,o,o]).map(e=>Math.round(255*e));var a,s=Math.floor(t/60),i=t/60-s,c=o*(1-r),d=o*(1-r*i),l=o*(1-r*(1-i));switch(s){case 0:a=[o,l,c];break;case 1:a=[d,o,c];break;case 2:a=[c,o,l];break;case 3:a=[c,d,o];break;case 4:a=[l,c,o];break;case 5:a=[o,c,d];break;default:throw new Error("hsvToRGB: impossible default reached")}return(a="number"==typeof n?[...a,n]:a).map(e=>Math.round(255*e))},c=e=>{var t=i(e);return s(t)},d=e=>{return(e=>{var t,[r,o,n,a]=e.map(e=>e/255),s=Math.max(r,o,n),i=s-Math.min(r,o,n),c=s,d=0===c?0:i/c;if(0===i)t=0;else switch(s){case r:t=(o-n)/i%6;break;case o:t=(n-r)/i+2;break;case n:t=(r-o)/i+4;break;default:throw new Error("rgbToHSV: impossible default case reached")}(t*=60)<0&&(t+=360);var l=[t,d,c];return"number"==typeof a?[...l,a]:l})(a(e))},l=function(e,t){var{outputHex:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a(e).map(e=>Math.min(Math.max(e-t,0),255));return r?s(o):"rgb(".concat(o.join(","),")")},u=function(e,t){var{outputHex:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a(e).map(e=>Math.max(Math.min(e+t,255),0));return r?s(o):"rgb(".concat(o.join(","),")")},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=a(e),n=a(t),s=o.map((e,t)=>Math.round(e*r+n[t]*(1-r)));return"rgb(".concat(s.join(","),")")},p=function(e){var t,{featureClassicNav:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=r?Object(o.E)()?.65:.75:Object(o.E)()?.6:.7,m(e.text_color,e.column_bg,t)},b=(e,t)=>{if(!e||null==t)return null;var r=a(e).slice(0,3);return"rgba(".concat(r.join(","),",").concat(t,")")},f=/[A-F0-9]{6}/,_=/[A-F0-9]{8}/,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var r=e.trim().toUpperCase();return"#"===r[0]&&(r=r.slice(1)),(3===r.length||4===r.length&&t)&&(r=r.split("").map(e=>"".concat(e).concat(e)).join("")),t&&6===r.length&&(r="".concat(r,"FF")),(t?_:f).exec(r)&&r},g=(e,t)=>"0 0 0 1px ".concat(e,", 0 0 0 5px ").concat(t)},"Yd+W":function(e,t,r){"use strict";var o,n,a,s,i;r.d(t,"d",function(){return o}),r.d(t,"e",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return i}),function(e){e.Pending="pending",e.InProgress="in_progress",e.Completed="completed"}(o||(o={})),function(e){e.SeeWelcomePlace="see_welcome_place",e.SendMessage="send_message",e.JoinChannel="join_channel",e.EnableNotifications="enable_notifications",e.DownloadDesktopApp="download_desktop_app",e.AddAppFileManagement="add_app_file_management"}(n||(n={})),function(e){e.Unknown="unknown",e.Direct="direct",e.Sidebar="sidebar",e.History="history"}(a||(a={})),function(e){e.Gdrive="gdrive",e.OneDrive="onedrive",e.Unknown="unknown"}(s||(s={})),function(e){e.DM="dm",e.CHANNEL="channel",e.BROWSE="browse"}(i||(i={}))},YjHT:function(e,t,r){"use strict";r.d(t,"a",function(){return u}),r.d(t,"b",function(){return m}),r.d(t,"c",function(){return p}),r.d(t,"e",function(){return b}),r.d(t,"j",function(){return f}),r.d(t,"i",function(){return _}),r.d(t,"k",function(){return h}),r.d(t,"f",function(){return v}),r.d(t,"g",function(){return y}),r.d(t,"h",function(){return w});var o=r("rePB"),n=r("aK/h"),a=r("EzZj"),s=r("MNvw"),i=r("U/ze"),c=r("V6fv");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){Object(o.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u="error",m="has_more",p="timestamp_too_old",b=Object(a.b)("Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)");b.meta={name:"eventlogGapDetected",key:"consistencyStoreEventlogGapDetected",description:"Notify consumers that the we may have missed some events (due to an error, missing too many events, or timestamp being too old)"},b.propTypes={reason:n.default.oneOf([u,m,p])};var f=Object(a.b)("Store the event_ts of the last rtm message we processed prior to losing our connection");f.meta={name:"setLastKnownEventTimestamp",key:"consistencyStoreSetLastKnownEventTimestamp",description:"Store the event_ts of the last rtm message we processed prior to losing our connection"},f.propTypes=n.default.string;var _=Object(a.b)("Set a value that represents whether we are currently in the boot phase");_.meta={name:"setBootInFlight",key:"consistencyStoreSetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"},_.propTypes=n.default.bool;var h=Object(a.b)("Set a value that represents whether we are currently performing a warm boot");h.meta={name:"setWarmBootInFlight",key:"consistencyStoreSetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"},h.propTypes=n.default.bool;var g={eventlogGapCount:0,lastKnownEventTimestamp:void 0,bootInFlight:!0,warmBootInFlight:!1},O=Object(s.b)({[b]:e=>l({},e,{eventlogGapCount:e.eventlogGapCount+1}),[f]:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(c.b)();return t?l({},e,{lastKnownEventTimestamp:t}):e},[_]:(e,t)=>l({},e,{bootInFlight:t}),[h]:(e,t)=>l({},e,{warmBootInFlight:t})},g,{storeKey:"consistency",persistenceEnabled:!0,beforeWriteTransform:e=>l({},e,{bootInFlight:g.bootInFlight,warmBootInFlight:g.warmBootInFlight})});O.meta={name:"consistency",key:"consistencyStoreConsistency"},O.propTypes={eventlogGapCount:n.default.number,lastKnownEventTimestamp:n.default.string,bootInFlight:n.default.bool,warmBootInFlight:n.default.bool},t.d=O,Object(i.b)(e=>e&&e.consistency&&e.consistency.eventlogGapCount).meta={name:"getEventlogGapCount",key:"consistencyStoreGetEventlogGapCount"};var v=Object(i.b)(e=>e&&e.consistency&&e.consistency.lastKnownEventTimestamp);v.meta={name:"getLastKnownEventTimestamp",key:"consistencyStoreGetLastKnownEventTimestamp"};var y=Object(i.b)(e=>e&&e.consistency&&e.consistency.bootInFlight);y.meta={name:"isBootInFlight",key:"consistencyStoreIsBootInFlight"};var w=Object(i.b)(e=>e&&e.consistency&&e.consistency.warmBootInFlight);w.meta={name:"isWarmBootInFlight",key:"consistencyStoreIsWarmBootInFlight"}},afo6:function(e,t,r){"use strict";r.d(t,"a",function(){return ConnectivityManager});var o=r("lSe/"),n=r("q/xz"),a=r("Zr7G"),s=10,i=3e5,c="exceeded_maximum_retries";class ConnectivityManager{constructor(e){var{maxAttempts:t=s,maxRetryAfter:r=i,logLabel:o="CONNECTIVITY-MANAGER",metricsLabel:a,testConnectivity:c,shouldCollectConnectivityMetrics:d=!1}=e;if(!c||"function"!=typeof c)throw new Error("ConnectivityManager requires a testConnectivity function.");this._testConnectivity=c,this._logLabel=o,this._metricsLabel=a,this._shouldCollectConnectivityMetrics=!(!d||!a),this._numberOfAttempts=0,this._retryAfter=0,this._maxAttempts=t,this._maxRetryAfter=r,this._retryTimeout=null,this._promiseToTestConnection=null,Object(n.a)(this)}waitForConnectivity(){return this._promiseToTestConnection||(this._shouldCollectConnectivityMetrics&&Object(a.a)().count("cm_flow_wait_for_connectivity_".concat(this._metricsLabel)),this._promiseToTestConnection=this._testConnection().tap(()=>{this._shouldCollectConnectivityMetrics&&Object(a.a)().count("cm_flow_connected_".concat(this._metricsLabel))}).finally(()=>{this._reset()})),this._promiseToTestConnection}_testConnection(){return this._testConnectivity().catch(e=>this._promiseToRetryLater({retryAfter:e&&e.retryAfter,totalRetryAttempts:e&&e.totalRetryAttempts}))}_promiseToRetryLater(e){var{retryAfter:t=this._retryAfter,totalRetryAttempts:r=this._numberOfAttempts}=e;window.clearTimeout(this._retryTimeout);var n=Math.min(t,this._maxRetryAfter);return this._numberOfAttempts+=1,this._numberOfAttempts>=this._maxAttempts?(Object(o.d)(this._logLabel,"Failed to establish a connection after ".concat(r," attempt(s).")),this._shouldCollectConnectivityMetrics&&Object(a.a)().count("cm_flow_err_exceeded_max_retries_".concat(this._metricsLabel)),Promise.reject(new Error(c))):(this._shouldCollectConnectivityMetrics&&Object(a.a)().count("cm_flow_failed_to_connect_".concat(this._metricsLabel)),Object(o.d)(this._logLabel,"Failed to establish a connection after ".concat(r," attempt(s); Retrying in ").concat(n,"ms.")),new Promise(e=>{this._retryTimeout=window.setTimeout(()=>{e(this._testConnection())},n)}))}_reset(){this._numberOfAttempts=0,this._promiseToTestConnection=null,window.clearTimeout(this._retryTimeout),this._retryTimeout=null}}},ayyL:function(e,t,r){"use strict";r.d(t,"v",function(){return c}),r.d(t,"s",function(){return d}),r.d(t,"g",function(){return l}),r.d(t,"t",function(){return u}),r.d(t,"b",function(){return p}),r.d(t,"c",function(){return b}),r.d(t,"e",function(){return f}),r.d(t,"f",function(){return _}),r.d(t,"h",function(){return h}),r.d(t,"i",function(){return g}),r.d(t,"u",function(){return O}),r.d(t,"q",function(){return v}),r.d(t,"w",function(){return y}),r.d(t,"o",function(){return w}),r.d(t,"m",function(){return j}),r.d(t,"n",function(){return T}),r.d(t,"l",function(){return k}),r.d(t,"k",function(){return P}),r.d(t,"r",function(){return D}),r.d(t,"j",function(){return E}),r.d(t,"p",function(){return F}),r.d(t,"d",function(){return C}),r.d(t,"a",function(){return R});var o=r("U/ze"),n=r("XL7r"),a=r("Smdl"),s=r("1zgd"),i=r("Yd+W"),c=e=>!(!e||"workflow"!==e.type),d=Object(o.b)(e=>"none"!==Object(n.k)(e,"welcome_place_state"));d.meta={name:"isWelcomePlaceOnboardingEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlaceOnboardingEnabled"};var l=Object(o.b)(e=>e&&e.welcomePlace&&e.welcomePlace.items?e.welcomePlace.items:[]);l.meta={name:"getPageItems",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageItems"};var u=Object(o.b)(e=>"enabled"===Object(n.k)(e,"welcome_place_state")&&(!Object(a.a)()||l(e).length>0));u.meta={name:"isWelcomePlacePageEnabled",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageEnabled"},Object(o.b)((e,t)=>{var{channelId:r,messageTimestamp:o}=t;return e.welcomePlace.channelMessages[r][o]}).meta={name:"getChannelMessage",key:"welcomePlaceStoreWelcomePlaceSelectorsGetChannelMessage"};var m=Object(o.b)(e=>e.welcomePlace.userDetails);m.meta={name:"getUserDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetUserDetails"};var p=Object(o.b)(e=>m(e).app_file_management);p.meta={name:"getFileManagementDetails",key:"welcomePlaceStoreWelcomePlaceSelectorsGetFileManagementDetails"};var b=Object(o.b)(e=>e.welcomePlace.userDetails.invite&&e.welcomePlace.userDetails.invite.inviter_id);b.meta={name:"getInviterId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetInviterId"};var f=Object(o.b)(e=>e.welcomePlace.lastRequestTimestamp);f.meta={name:"getLastRequestTime",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastRequestTime"};var _=Object(o.b)(e=>e.welcomePlace.lastUsedLocale);_.meta={name:"getLastUsedLocale",key:"welcomePlaceStoreWelcomePlaceSelectorsGetLastUsedLocale"};var h=Object(o.b)(e=>e.welcomePlace.pageEntryPoint);h.meta={name:"getPageNavigationTrigger",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageNavigationTrigger"};var g=Object(o.b)(e=>e.welcomePlace.pageViewingSessionId);g.meta={name:"getPageViewingSessionId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPageViewingSessionId"};var O=Object(o.b)(e=>{var t=l(e).find(e=>"workflow"===e.type);if(!c(t))return!1;var r=1e3*t.content.workflow.date_start;return Date.now()-r<6048e5});O.meta={name:"isWelcomePlacePageLinkBold",key:"welcomePlaceStoreWelcomePlaceSelectorsIsWelcomePlacePageLinkBold"};var v=Object(o.b)(e=>e.welcomePlace.isOpenedFromSonicBoot);v.meta={name:"isOpenedFromSonicBoot",key:"welcomePlaceStoreWelcomePlaceSelectorsIsOpenedFromSonicBoot"};var y=Object(o.b)(()=>{if(!Object(a.a)())throw new Error("this selector can not be used from Legacy");return!1});y.meta={name:"shouldHideTopBanners",key:"welcomePlaceStoreWelcomePlaceSelectorsShouldHideTopBanners"};var w=Object(o.b)((e,t)=>{var r=l(e).find(e=>"workflow"===e.type);return c(r)?r.content.workflow.tasks.find(e=>e.subtype===t):null});w.meta={name:"getWorkflowTaskBySubtype",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowTaskBySubtype"};var j=Object(o.b)(e=>e.welcomePlace.isWorkflowItemCoachmarkVisible);j.meta={name:"getWorkflowItemCoachmarkVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowItemCoachmarkVisibility"},Object(o.b)(e=>e.welcomePlace.hasSentErrorLog).meta={name:"getHasSentErrorLog",key:"welcomePlaceStoreWelcomePlaceSelectorsGetHasSentErrorLog"};var I=Object(o.b)(e=>e.welcomePlace.experiment);I.meta={name:"getExperiment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperiment"};var S=Object(o.b)(e=>e.welcomePlace.treatment);S.meta={name:"getExperimentTreatment",key:"welcomePlaceStoreWelcomePlaceSelectorsGetExperimentTreatment"};var T=Object(o.b)(e=>{var t=l(e).find(e=>"workflow"===e.type&&c(e));if(!t)return{total:0,completed:0};var r=t.content.workflow.tasks.filter(s.a),o=r.filter(e=>"completed"===e.state).length,n=r.find(e=>"completed"!==e.state);return{total:r.length,completed:o,nextTaskType:n&&n.subtype}});T.meta={name:"getWorkflowProgress",key:"welcomePlaceStoreWelcomePlaceSelectorsGetWorkflowProgress"};var k=Object(o.b)(e=>{var t=m(e).send_message_task;return t&&t.type});k.meta={name:"getSendMessageTaskType",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageTaskType"};var P=Object(o.b)(e=>{var t=m(e).send_message_task,r=t&&t.type;return r===i.c.DM?t.send_to_dm_id:r===i.c.CHANNEL?t.send_to_channel_id:""});P.meta={name:"getSendMessageCardConversationId",key:"welcomePlaceStoreWelcomePlaceSelectorsGetSendMessageCardConversationId"};var D=Object(o.b)(e=>{return"completed"===(w(e,i.e.SendMessage)||{}).state});D.meta={name:"isSendMessageTaskCompleted",key:"welcomePlaceStoreWelcomePlaceSelectorsIsSendMessageTaskCompleted"};var E=Object(o.b)(e=>Object(n.k)(e,"send_your_first_message_banner_enabled"));E.meta={name:"getPostSendMessageBannerVisibility",key:"welcomePlaceStoreWelcomePlaceSelectorsGetPostSendMessageBannerVisibility"};var A=Object(o.b)(e=>"newxp_3100_1"===I(e));A.meta={name:"isInV11Experiment",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInV11Experiment"};var B=Object(o.b)(e=>"newxp_2372_2"===I(e));B.meta={name:"isInV12Experiment",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInV12Experiment"};var W=Object(o.b)(e=>"newxp_3567"===I(e));W.meta={name:"isInTenuredTeamsExperiment",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInTenuredTeamsExperiment"},Object(o.b)(e=>W(e)&&"treatment_a"===S(e)).meta={name:"isInTenuredTeamsTreatmentA",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInTenuredTeamsTreatmentA"};var F=Object(o.b)(e=>W(e)&&"treatment_b"===S(e));F.meta={name:"isInTenuredTeamsTreatmentB",key:"welcomePlaceStoreWelcomePlaceSelectorsIsInTenuredTeamsTreatmentB"};var C=Object(o.b)(e=>{var t="";return W(e)?t="tenured_teams":B(e)?t="v1.2":A(e)&&(t="v1.1"),t});C.meta={name:"getIteration",key:"welcomePlaceStoreWelcomePlaceSelectorsGetIteration"};var R=Object(o.b)(e=>e.welcomePlace.isAnimationStarted);R.meta={name:"getAnimationState",key:"welcomePlaceStoreWelcomePlaceSelectorsGetAnimationState"}},bmqc:function(e,t,r){},btH0:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var o=r("wHps");function n(e){return Object.values(o.a).includes(e)}},"d/52":function(e,t,r){"use strict";r.r(t);var o=r("rePB"),n=r("/74f"),a=r("Omjo"),s=r("qe1s"),i=r("4Ms+"),c=r("Gogr"),d=r("lKeU"),l=r("HuaI"),u=r("IY6O"),m=r("TSHB"),p=r("m8R6"),b=r("fujP"),f=r("7EGn"),_=r("g5qt"),h=r("VMwU"),g=r("cErB"),O=()=>{var{teams:e,enterprise:t}=Object(_.w)();if(!e)return null;var r=function(){var{theme:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.column_bg&&Object(h.c)(e.column_bg,20)},o=function(){var{team_id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&t[e]&&t[e].enterpriseId},n=function(){var{team_url:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return"";var{host:t,protocol:r}=Object(g.k)(e);return"".concat(r,"//").concat(t,"/")},a=Object.keys(Object(c.c)("teams")||{}),s=Object(p.a)(e,a);return Object(m.a)(s,e=>({id:e.team_id,name:e.team_name,url:n(e),token:e.token,user_locale:e.locale,user_id:e.id,icon:e.icons,channelSidebarBackground:e.theme&&e.theme.column_bg,enterprise_id:o(e),teamSwitcherBackground:r(e),isExpired:!0}))};var v=r("vATg"),y=r("sDWr"),w=r("KXvl"),j=(r("bmqc"),".p-client_container_placeholder");function I(){var e=document.querySelector(j);e&&e.remove()}var S=r("JtEI"),T=r("A4VO"),k=r("rWF5"),P=r("rb67");function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var E=Object(k.g)();E!==k.a.SAFARI&&E!==k.a.EDGE||Object(P.e)(),window.sonic_boot__phase_1_5__duration=Date.now()-window.sonic_boot__phase_1_5__start,window.sonic_boot__phase_2__start=Date.now(),Promise.resolve(Object(i.b)({label:"setupGantry_".concat(Object(S.a)(Object(T.a)()))},n.a)).then(e=>{var{teamId:t,forceColdBoot:r,triggerSignInAfterBoot:n}=e;return Object(k.v)()&&!Object(c.c)("migratedDesktopLocalConfig")&&(!function(){var e=Object(c.c)("prevTeams"),t=Object(b.a)(e)?_.W&&O():e;Object(c.h)("prevTeams",t);var r=Object(c.c)("orderedTeamIds"),o=Object(b.a)(r)?Object(f.a)(Object(_.w)(),"appTeams.teamsByIndex",[]):r;Object(c.h)("orderedTeamIds",o)}(),Object(c.h)("migratedDesktopLocalConfig",!0)),function(e){var{teamId:t,showTeamSwitcher:r=!1}=e,o=Object(c.d)(t,"channelSidebarBackground"),n=Object(c.d)(t,"teamSwitcherBackground"),a=document.querySelector(j);a&&(o?(Object(w.b)()&&r&&(a.classList.add("p-client_container_placeholder--with-team-switcher"),a.style.borderLeftColor=n),a.style.backgroundColor=o,a.style.display="block"):I())}({teamId:t,showTeamSwitcher:Object(d.a)().length>1}),Object(i.b)({label:"bootClient_".concat(Object(S.a)(r))},function(){return Object(y.q)(),t!==Object(c.c)("lastActiveTeamId")&&Object(c.h)("lastActiveTeamId",t),Object(s.a)({teamId:t,shouldSetFocus:!0}).then(e=>{var t=Date.now(),{store:r,bootAssets:a,isWarmBooting:s}=e,{isJsPath:i,mountClient:c,isReload:d,isQa:l,isDev:u,registerGlobalErrorHandler:m,registerGlobalBeforeunloadHandler:p,registerNetworkConnectivityListener:b}=a;m(),p(),b();var f=r.getState(),_=a.getTelemeter({state:f}),h=s?"warm":"cold";i||u||l||(_.store("sonic_boot_phase_2_".concat(h),Date.now()-window.sonic_boot__phase_2__start),d()&&_.count("sonic_boot_via_reload"));var g=!0;return I(),c(document.querySelector(".p-client_container"),()=>{i||u||l||!g||(_.store("sonic_boot_phase_3_".concat(h),Date.now()-t),g=!1)}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){Object(o.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{triggerSignInAfterBoot:n})})})}).catch(e=>{I(),Object(v.f)(e,{locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,shouldRetry:!0})}).tap(function(e){return e.bootAssets.listenForLongTasks(e),Promise.resolve(e)}).tap(function(){var{bootAssets:e,triggerSignInAfterBoot:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t)return;var{startWorkspaceSignIn:r,getClientStoreInstance:o}=e;o().dispatch(r())}).then(function(e){if(!Object(w.b)())return Promise.resolve(e);var t=e.teamId,r=e.bootAssets.getAllWorkspacesFromLocalConfig(),o=e.bootAssets.getWorkspacesMetaFromLocalConfig(),n=r.filter(e=>o[e]&&!o[e].isExpired).filter(e=>e!==t);return Object(a.b)("BOOT","Booting other teams: ".concat(n.join(","))),n.map(e=>s.a.bind(null,{teamId:e})).reduce((e,t,r)=>e.catch(e=>{Object(v.a)(n[r-1],e)}).finally(t),Promise.resolve()).then(()=>e)}).then(function(e){var{bootAssets:t}=e,{storeSSBMemoryStatsOnAnInterval:r}=t;return r(),Promise.resolve(e)}).then(function(e){var{bootAssets:t}=e,{storeReduxStoreStatsOnAnInterval:r}=t;return r(),Promise.resolve(e)}).then(function(e){var{bootAssets:t}=e,{registerServiceWorker:r,fetchApiCallsForCaching:o,isServiceWorkerAvailable:n}=t;n()&&(navigator.serviceWorker.addEventListener("controllerchange",()=>{o(e)}),r());return Promise.resolve(e)}).then(function(e){var{bootAssets:t}=e,{isJsPath:r,isProduction:o,removeUrlQueryStringValue:n}=t;if(o&&!r){if(window.location.search.match("force_cold_boot")){var a=n(window.location.href,"force_cold_boot");window.history.replaceState({},"",a)}if(window.location.search.match("new_enough_acceptable")){var s=n(window.location.href,"new_enough_acceptable");window.history.replaceState({},"",s)}}return Promise.resolve(e)}).then(function(e){var t=e.bootAssets.getAllWorkspacesFromLocalConfig();return e.bootAssets.clearAllPersistedDataExceptForTeamIds(t).then(()=>e)}).then(function(e){var{getClientStoreInstance:t,getStoreInstanceByTeamId:r,initPersistenceForTeam:o}=e.bootAssets,n=t();return Object(u.getBootedWorkspaces)(n.getState()).forEach(e=>{var t=r(e);o({teamId:e,store:t})}),Promise.resolve(e)}).then(function(e){var{getClientStoreInstance:t}=e.bootAssets;return t().dispatch(Object(l.setDidBootAllWorkspaces)()),Promise.resolve(e)})},hgYl:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a});var o=r("Smdl"),n=["calendar","files","downloads","whats_new","shortcuts","details","apps",...Object(o.a)()?["search_results","activity","starred_items","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","actions"]:["convo","groups","team","stars","mentions"]],a={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings"}},jr0b:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var o={SUCCESS:"success",ERROR:"error"}},lKeU:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var o=r("cZF4"),n=r("Muja"),a=r("0VPD"),s=r("Gogr");function i(){var e=Object.keys(Object(s.c)("teams")||{}),t=Object.keys(Object(s.c)("prevTeams")||{}),r=Object(o.a)(e,t),i=Object(s.c)("orderedTeamIds"),c=Object(o.a)(Object(a.a)(i,r),e);return Object(n.a)(c,i)||Object(s.h)("orderedTeamIds",c),c}},qe1s:function(e,t,r){"use strict";var o=r("rePB"),n=r("xnu4"),a=r("Omjo"),s=r("lhZz"),i=r("8Az7"),c=r("vATg"),d=r("A4VO"),l=r("Gogr"),u=r("rkcT"),m=r("cewN"),p=r("cErB"),b=r("TdUT"),f=r("sekS"),_=r("IbTH"),h=r("YjHT"),g=r("nNoG"),O=r("BNw7"),v=r("toaU"),y=r("POHe"),w=r("iTOt"),j=r("0QyR"),I=r("jngr"),S=r("JtEI"),T=r("DlLn"),k=r("fhz1"),P=r("KXvl");function D(e){if(!e.shouldSetFocus)return Promise.resolve(e);var{teamId:t,bootAssets:r}=e,{configureClientStore:o,getAllWorkspacesFromLocalConfig:n,getWorkspacesMetaFromLocalConfig:a,initializeWorkspacesStore:s}=r,i=o(),c=Object(P.b)()?n():[t],d=a();return i.dispatch(s({focusedWorkspace:t,allWorkspaces:c,workspacesMeta:d})),Promise.resolve(e)}function E(e){return e.shouldSetFocus?(e.bootAssets.registerRouteListeners(),Promise.resolve(e)):Promise.resolve(e)}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){Object(o.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var W="ensure_boot_data_failed",F=["user_removed_from_team","invalid_auth","not_authed","userLogin"],C="accesslimited",R="two_factor_setup_required";function L(e,t){if(window.isReloading)return Object(a.b)("BOOT","(".concat(e.teamId,") Ongoing reload detected during ensure boot data error handler; Halting execution.")),Object(O.a)();if(t&&t.data&&t.data.error===R)return Object(k.a)(e.teamId);if(t&&t.data&&t.data.error&&F.includes(t.data.error)&&!t.doNotFetchAuth)return Object(T.e)();var o=!!(t&&t.data&&t.data.active_migration),n=B({},e,{bootFailedDueToOrgMigration:o,bootFailedDueToAccessLimited:!(!t||!t.data||t.data.error!==C)});return o||(Object(a.a)("Caught boot data error",t),Object(I.a)({err:t,teamId:e.teamId,description:"".concat(Object(S.c)()," boot failed to fetch boot data"),subtype:"".concat(Object(S.c)(),"_boot_data_error"),version:Object(b.a)()})),function(e){var t=function(e){return Promise.all([r.e(0),r.e(97),r.e(103),r.e(10),r.e(24)]).then(r.bind(null,"OrkY")).then(t=>B({},e,{bootAssets:t}))}(e);e.shouldSetFocus&&(t=t.then(x));return t.then(M)}(n).then(e=>{var t=new Error(W);throw t.context=e,t})}function x(e){return D(e).then(E).then(()=>{var{bootAssets:t}=e,{registerServiceWorker:r}=t;return r(),Promise.resolve(e)})}function M(e){var{teamId:t,bootAssets:r,bootFailedDueToOrgMigration:o,bootFailedDueToAccessLimited:n}=e,{configureStore:s,reducers:i,middlewares:c,setWorkspaceFailedToBoot:d,setWorkspaceIsMigrating:l,setWorkspaceIsAccessLimited:u,getClientStoreInstance:m,navigateToRoute:p,setWillNavigateToUnbootedWorkspaceId:b,getWillNavigateToUnbootedWorkspaceId:f}=r;Object(a.c)("BOOT","(".concat(e.teamId,") failed to create store; initializing empty team store"));var _=B({},e,{store:s({teamId:t,initialState:{},reducers:i,middlewares:c})}),h=m();return h.dispatch(d(t)),o&&(h.dispatch(l(t)),Object(a.c)("BOOT","(".concat(e.teamId,") Workspace boot failed due to active migration"))),n&&h.dispatch(u(t)),f(h.getState())===t?(p(v.a,{teamId:t},{reason:"delayed-unbooted-team-switch"}),h.dispatch(b(null)),Promise.resolve(e)):Promise.resolve(_)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){Object(o.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,"a",function(){return q});var G={};function q(e){var{teamId:t,shouldSetFocus:r=!1}=e;return window.isReloading?(Object(a.b)("BOOT","(".concat(t,") Ongoing reload detected; Cancelling boot.")),Object(O.a)()):G[t]?G[t]:(G[t]=function(e,t){Object(a.b)("BOOT","(".concat(e,") Initializing boot"));var r=Object(d.a)(),o=Object(l.d)(e,"token"),n=Object(l.d)(e,"user_id"),s=Object(m.a)(window.location.search),i=Object(f.a)(window.location.search,document.cookie);return Promise.resolve({teamId:e,teamToken:o,forceColdBoot:r,featureFlagURLOverrides:s,experimentGroupOverrides:i,shouldSetFocus:t,shouldRetry:!0,userId:n,bootedOffline:!window.navigator.onLine})}(t,r).then(e=>(function(e){return Object(i.c)(e.teamToken,e.teamId),Promise.resolve(e)})(e).then(H).then(V).then(z).then(K).then(D).then(E).then(Q).then(X).then(Z).then(Y).then($).then(te).then(re).then(oe).then(ne).then(ae).then(se).then(ie).then(ce).then(de).catch(r=>{return ee(t),r&&r.message===W?r.context:Object(c.f)(r,N({},e,{teamId:t,locationHref:window.location.href,lsConfig:localStorage.localConfig_v1,doRenderClientErrorView:!0}))})),G[t])}function H(e){var t={},{teamId:o,teamToken:n,forceColdBoot:a,shouldSetFocus:s,store:i,userId:d,bootedOffline:l}=e,m=Object(u.c)({store:i,shouldSetFocus:s});if(!m){var p=Object(u.d)(o);p&&(m=p)}var b=[Promise.all([r.e(0),r.e(97),r.e(103),r.e(10),r.e(24)]).then(r.bind(null,"OrkY")).then(e=>(t.sonic_boot__phase_2_2_1_1__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(c.b.bind(null,o)),Object(j.a)({teamId:o,teamToken:n,routeInfo:m,forceAPI:a,userId:d,shouldSetFocus:s,bootedOffline:l,reason:"initial-data"}).then(e=>(t.sonic_boot__phase_2_2_1_2__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(L.bind(null,e)),Object(_.a)(Object(g.s)({recalc:!0,teamId:o})).then(e=>(t.sonic_boot__phase_2_2_1_3__duration=Date.now()-window.sonic_boot__phase_2__start,e)).catch(c.d.bind(null,o))];return Promise.all(b).then(r=>{var[o,{isWarmBooting:n,bootData:a}={}]=r;t.sonic_boot__phase_2_2_1__duration=Date.now()-window.sonic_boot__phase_2__start,t.sonic_boot__phase_2_2_2__start=Date.now();var s=N({},e,{bootAssets:o,bootData:a,isWarmBooting:n,timing:t,routeInfo:m});return a&&a.miscBootData&&"should_reload"in a.miscBootData?J(s):s})}function V(e){var{bootData:t,isWarmBooting:r,teamId:o}=e||{};if(r)return Promise.resolve(e);var{miscBootData:n,teamData:s}=t||{},{domain:i}=s||{},{acceptTosUrl:c}=n||{};if(!c||!i)return Promise.resolve(e);var d=Object(m.f)(location.search,"force_cold_boot",1),l="/gantry".concat(location.pathname).concat(d),u=Object(p.p)(c,"redirect",l);return Object(a.b)("BOOT","(".concat(o,") User needs to accept the terms of service; redirecting to ").concat(u)),location.assign(u),Object(O.a)()}function z(e){var{teamId:t,bootAssets:r}=e,{setLocale:o,getLocale:n}=r;return Promise.resolve(o(n({teamId:t,recalc:!0}),t,{shouldEnsureTranslationBundle:!1})).then(()=>e)}function K(e){var{teamId:t,isWarmBooting:r,bootAssets:o,featureFlagURLOverrides:n,bootData:a}=e,{getImmediatelyPersistedState:s,reducers:i,purgeStoredModel:d,forceColdBoot:l,processStoredState:u}=o;return(()=>r?u({teamId:t,reducerConfig:i,storedState:a}):Promise.resolve({}))().then(o=>{if(!o)return l({reason:"getStoredStateIfValid didn\u2019t return any stored state",reasonKey:"warm_boot_without_stored_state",immediate:!0}),Object(O.a)();var c=N({},o,{bootData:N({},o.bootData,{},n,{version_ts:Object(b.a)()})}),d=r?o&&o.bootData&&o.bootData.user_id:a&&a.selfData&&a.selfData.id,u=s({teamId:t,userId:d,reducerConfig:i,state:c}),m=N({initialState:u,userId:d},e);return u&&u.bootData&&"should_reload"in u.bootData?J(m):m}).catch(e=>(Object(c.e)(t,d,l,e),Object(O.a)()))}function Q(e){var{bootAssets:t}=e,{loadEmojiTranslations:r}=t;return r(),e}function X(e){var{teamId:t,bootAssets:r}=e;return r.populateTeamDebugger(t),Promise.resolve(e)}function Z(e){var{teamToken:t,teamId:r,bootAssets:o,bootData:n,initialState:a,isWarmBooting:s}=e,i=s?a&&a.bootData:n&&n.miscBootData;return i&&"should_reload"in i?Promise.resolve(e):(o.maybeReloadForMinVersionBumpFromApi({teamToken:t,teamId:r,reason:"sonic boot"}),Promise.resolve(e))}function J(e){var{initialState:t,bootAssets:r,bootData:o,isWarmBooting:n}=e,a=n?t&&t.bootData:o&&o.miscBootData;return a&&"should_reload"in a?r.maybeReloadForMinVersionBumpFromBootData({isWarmBooting:n,bootData:a}).then(t=>t?Object(O.a)():N({},e,{isReloadingForMinVersionBump:t})):Promise.resolve(e)}function Y(e){if(!e.isWarmBooting)return e;Object(a.b)("BOOT","(".concat(e.teamId,") Booting warm"));var{teamId:t,bootAssets:r,experimentGroupOverrides:o,initialState:n={}}=e,{configureStore:s,reducers:i,overrideExperimentAssignments:c,middlewares:d}=r,l=s({teamId:t,initialState:n,reducers:i,middlewares:d});l.dispatch(Object(h.k)(!0)),o&&o.all&&l.dispatch(c(o.all)),o&&o[t]&&l.dispatch(c(o[t]));var u=e.timing||{};u.sonic_boot__phase_2_2_2__duration=Date.now()-u.sonic_boot__phase_2_2_2__start;var m=N({},e,{store:l,timing:u});return Promise.resolve(m)}function $(e){if(e.isWarmBooting)return e;Object(a.b)("BOOT","(".concat(e.teamId,") Booting cold"));var{teamId:t,bootData:r,bootAssets:o,featureFlagURLOverrides:n,experimentGroupOverrides:s,shouldSetFocus:i,initialState:c={}}=e,{dispatchBootData:d,getMembersById:m,configureStore:p,reducers:b,middlewares:f,checkForPersistenceMethodChanges:_}=o;return _(t).then(()=>{var o=p({teamId:t,reducers:b,initialState:c,middlewares:f}),a=N({},e,{store:o}),_=Object(u.c)({store:o,shouldSetFocus:i});if(o.dispatch(Object(h.k)(!1)),!_){var g=Object(u.d)(t);g&&(_=g)}d(o,r,_,n,s);var O=o.getState(),v=(r&&r.membersToFetch||[]).filter(e=>!(O&&O.members&&O.members[e]));m(O,v);var y=a.timing||{};y.sonic_boot__phase_2_2_2__duration=Date.now()-y.sonic_boot__phase_2_2_2__start;var w=Object(l.c)("lastColdBootTs"),j=Date.now();w&&(y.sonic_boot_time_between_cold_boots=j-w),Object(l.h)("lastColdBootTs",j);var I=N({},a,{timing:y});return ee(t),Promise.resolve(I)})}function ee(e){var t=Object(s.getStoreInstanceByTeamId)(e);t&&(Object(a.b)("BOOT","(".concat(e,") Boot complete")),y.a.delete("setNavigatedDuringWarmBoot"),t.dispatch(Object(h.i)(!1)))}function te(e){var{store:t,teamId:r,bootAssets:{getLocaleFeatureFlags:o,localesEnabled:s,queryStringParse:i,resetCredentials:c,removeUrlQueryStringValue:d,getLocale:l}}=e,u=o(t.getState()),m=s(Object.keys(u).reduce((e,t)=>N({},e,{[Object(n.a)(t)]:u[t]}),{})),p=i(window.location.search),b=l();return!m[b]&&Object.keys(p).includes("locale")?(Object(a.b)("BOOT","team ".concat(r," attempted to boot into locale ").concat(b," which has not been enabled; clearing credentials and reloading app")),c(),window.location=d(window.location.href,"locale"),Object(O.a)()):Promise.resolve(e)}function re(e){var{shouldSetFocus:t,store:r,bootAssets:o,isWarmBooting:n,teamId:a}=e,{getRouteName:s,getRouteParams:i,updateCurrentRoute:c,getCurrentRouteInfo:d,navigateToRoute:l,getClientStoreInstance:m,setWillNavigateToUnbootedWorkspaceId:p,getWillNavigateToUnbootedWorkspaceId:b}=o,f=m();if(b(f.getState())===a)return l(v.a,{teamId:a},{reason:"delayed-unbooted-team-switch"}),f.dispatch(p(null)),Promise.resolve(e);if(!t)return Promise.resolve(e);if(n){var _=d(window.location.pathname,{throwOnNoRoute:!1});if(_&&_.params&&_.params.entityId)r.dispatch(c(_));else{var h=Object(u.d)(a);h&&r.dispatch(c(h))}}if(Object(w.f)(r.getState()))return Promise.resolve(e);var g=r.getState();return l(s(g),i(g),{shouldReplaceState:!0}),Promise.resolve(e)}function oe(e){var{store:t,bootAssets:r,isWarmBooting:o}=e,n=o?"warm":"cold";return t.dispatch(r.setBootType(n)),Promise.resolve(e)}function ne(e){var{teamId:t,bootAssets:r,store:o}=e,{getClientStoreInstance:n,setWorkspaceBooted:a,setWindow:s,getWindow:i,hasWorkspaceFailedToBoot:c}=r,d=n(),l=d.getState(),u=i(l);return o.dispatch(s(u)),c(l,t)?Promise.resolve(e):(d.dispatch(a(t)),Promise.resolve(e))}function ae(e){if(e.isWarmBooting)return e;var{setLocalConfigForTeamWithKey:t}=e.bootAssets,r=document.documentElement,o=!(!r||!r.dataset)&&r.dataset.versionTs;return"dev"!==o&&(o=parseInt(o,10)),t(e.teamId,"versionDataTs",o),Promise.resolve(e)}function se(e){return e.bootAssets.connectSocket(e)}function ie(e){var{bootAssets:t,store:r,teamId:o,teamToken:n,featureFlagURLOverrides:s,experimentGroupOverrides:i,userId:c,isWarmBooting:d}=e,{dispatchBootData:l,getMembersById:m,maybeReloadSlashCommands:p,maybeReloadEmoji:b,fetchAndUpsertWhatsNewUpdates:f,loadAppActions:_,shouldSetFocus:g,maybeCountServiceWorkerNetworkStackFailureRefresh:O}=t;if(d){Object(a.b)("BOOT","(".concat(o,") Fetching fresh boot data after booting with persisted store"));var v=Object(u.c)({store:r,shouldSetFocus:g});Object(j.a)({teamId:o,teamToken:n,routeInfo:v,forceAPI:!0,userId:c,shouldSetFocus:g,reason:"deferred-data"}).then(function(){var{bootData:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&t.miscBootData&&"should_reload"in t.miscBootData?J(N({},e,{isWarmBooting:!1,bootData:t})).then(()=>t):t}).then(t=>{r.dispatch(Object(h.k)(!1)),l(r,t,v,s,i);var o=r.getState(),n=(t&&t.membersToFetch||[]).filter(e=>!(o&&o.members&&o.members[e]));m(o,n);var a=N({},e,{isWarmBooting:!1});re(a),V(N({},a,{bootData:t})),de(e)}).finally(()=>{ee(o)})}return setTimeout(()=>{r.dispatch(p()),r.dispatch(b()),r.dispatch(_()),r.dispatch(f({reason:"boot-team"})),O()},0),Promise.resolve(e)}function ce(e){var{store:t,bootAssets:r,shouldSetFocus:o,isWarmBooting:n,timing:a,bootedOffline:s}=e,{getTelemeter:i,isJsPath:c,isQa:d,isDev:l,getDesktopPreloadTime:u,getClientStoreInstance:m,setShouldLogTTUMetrics:p,setShouldLogAppBootMetrics:b,ttiPolyfill:f}=r,_=i({state:t.getState()}),h=n?"warm":"cold";if(c||l)return Promise.resolve(e);if(d)return Promise.resolve(e);if(o){if(s){_.count("sonic_boot_offline");var g=m();return g.dispatch(p(!1)),g.dispatch(b(!1)),Promise.resolve(e)}var O=r.isReload()?"_reload":"";_.count("sonic_boot"),r.isReload()&&_.count("sonic_boot_reload");var v=u();if(v>0&&_.store("sonic_boot_desktop_preload".concat(O),v),window.performance&&window.performance.getEntriesByName){var y="".concat(window.location.origin).concat(window.location.pathname),w=window.performance.getEntriesByName(y);if(w&&w[0]){var j=w[0],I=j.requestStart-j.workerStart,S=0===I?"awake":"asleep";_.count("sonic_boot_sw_status_".concat(S)),_.store("sonic_boot_sw_startup_time_".concat(h),I)}}window.performance&&window.performance.timing&&window.performance.timing.fetchStart>0&&(_.store("sonic_boot_window__connectStart_".concat(h).concat(O),window.performance.timing.connectStart-window.performance.timing.fetchStart),_.store("sonic_boot_window__connectEnd_".concat(h).concat(O),window.performance.timing.connectEnd-window.performance.timing.fetchStart),_.store("sonic_boot_window__requestStart_".concat(h).concat(O),window.performance.timing.requestStart-window.performance.timing.fetchStart),_.store("sonic_boot_window__responseStart_".concat(h).concat(O),window.performance.timing.responseStart-window.performance.timing.fetchStart),_.store("sonic_boot_window__responseEnd_".concat(h).concat(O),window.performance.timing.responseEnd-window.performance.timing.fetchStart),_.store("sonic_boot_window__domLoading_".concat(h).concat(O),window.performance.timing.domLoading-window.performance.timing.fetchStart),_.store("sonic_boot_phase_1_".concat(h).concat(O),window.sonic_boot__phase_1__duration+v)),_.store("sonic_boot_phase_2_1_".concat(h),0),_.store("sonic_boot_phase_1_5_".concat(h),window.sonic_boot__phase_1_5__duration);var T=Date.now()-window.sonic_boot__phase_2__start;_.store("sonic_boot_phase_2_2_".concat(h),T),_.store("sonic_boot_phase_2_2_1_".concat(h),a.sonic_boot__phase_2_2_1__duration),_.store("sonic_boot_phase_2_2_1_1_".concat(h),a.sonic_boot__phase_2_2_1_1__duration),_.store("sonic_boot_phase_2_2_1_2_".concat(h),a.sonic_boot__phase_2_2_1_2__duration),_.store("sonic_boot_phase_2_2_1_3_".concat(h),a.sonic_boot__phase_2_2_1_3__duration),_.store("sonic_boot_phase_2_2_2_".concat(h),a.sonic_boot__phase_2_2_2__duration),_.store("sonic_boot_phase_2_2_3_".concat(h),T-a.sonic_boot__phase_2_2_1__duration-a.sonic_boot__phase_2_2_2__duration),f.getFirstConsistentlyInteractive().then(e=>{_.store("sonic_tti_".concat(h),e)}),a.sonic_boot_time_between_cold_boots&&_.store("sonic_boot_time_between_cold_boots",a.sonic_boot_time_between_cold_boots)}return Promise.resolve(e)}function de(e){var{teamId:t,store:r,bootAssets:o}=e,n=r.getState();return o.saveColorsToLocalConfig(t,n),Promise.resolve(e)}},rkcT:function(e,t,r){"use strict";r.d(t,"c",function(){return d}),r.d(t,"a",function(){return l}),r.d(t,"b",function(){return u}),r.d(t,"d",function(){return m});var o=r("Omjo"),n=r("kLJo"),a=r("lhZz"),s=r("Gogr"),i=r("iTOt"),c=r("toaU");function d(){var{store:e,shouldSetFocus:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=Object(n.e)(window.location.pathname,{throwOnNoRoute:!1});if(r&&t&&r.routeName!==c.a)return r;if(!e)return null;var o=Object(i.b)(e.getState());return o?{routeName:o,params:Object(i.c)(e.getState())}:null}function l(){return Object(n.b)(e=>{var{nextTeamId:t,routeName:r,params:o}=e;Object(a.getStoreInstanceByTeamId)(t)&&Object(a.dispatchForTeamId)(t,Object(i.e)({routeName:r,params:o}))})}function u(e){Object(o.b)("BOOT","(".concat(e.teamId,") Connecting to socket"));var{store:t,teamToken:r,bootAssets:n,teamId:a}=e,{start:s,createInstanceForTeam:i}=n;return i(a),t.dispatch(s(r)),Promise.resolve(e)}function m(e){var t=Object(s.d)(e,"lastRoute");return t&&t.params&&t.params.entityId?t:null}},sDWr:function(e,t,r){"use strict";var o=r("kLJo"),n=r("toaU"),a=r("/gpl"),s=r("J9z2"),i=r("+1yX"),c=r("UUlk"),d=r("FHcd"),l=r("k2C/"),u=r("uFGw"),m=/^[\d]{10}\.[\d]{6}$/;function p(e){return m.test(e)}var b=/^(C|G|D)[A-Z0-9]{8}-[\d]{10}\.[\d]{6}$/;var f=r("NFsq"),_=r("hgYl");var h=r("btH0"),g=r("+Sjy"),O=r("Er5K"),v=r("wCpp");r.d(t,"a",function(){return y}),r.d(t,"k",function(){return w}),r.d(t,"d",function(){return j}),r.d(t,"b",function(){return I}),r.d(t,"j",function(){return S}),r.d(t,"h",function(){return T}),r.d(t,"g",function(){return k}),r.d(t,"n",function(){return P}),r.d(t,"m",function(){return D}),r.d(t,"p",function(){return E}),r.d(t,"i",function(){return A}),r.d(t,"f",function(){return B}),r.d(t,"e",function(){return W}),r.d(t,"o",function(){return F}),r.d(t,"c",function(){return C}),r.d(t,"l",function(){return R}),r.d(t,"q",function(){return M});var y="ROUTE_ENTITY",w="ROUTE_FLEX_THREAD",j="ROUTE_FLEX_DETAILS",I="ROUTE_FLEX_ACTIVITY_PANE",S="ROUTE_FLEX_STARRED",T="ROUTE_FLEX_FILES",k="ROUTE_FLEX_FILE",P="ROUTE_FLEX_USER_GROUPS",D="ROUTE_FLEX_USER_GROUP",E="ROUTE_FLEX_WHATS_NEW",A="ROUTE_FLEX_SHORTCUTS",B="ROUTE_FLEX_DOWNLOADS",W="ROUTE_FLEX_DIRECTORY",F="ROUTE_FLEX_USER_PROFILE",C="ROUTE_FLEX_APP_PROFILE",R="ROUTE_FLEX_USER_CALENDAR",L={entityId:e=>Object(a.a)(e)||Object(s.a)(e)||Object(i.a)(e)||Object(c.a)(e)||Object(d.a)(e)||Object(l.a)(e)||Object(u.a)(e)||Object(h.a)(e)||Object(g.g)(e),appOrServiceId:e=>Object(s.a)(e)||Object(a.a)(e),timestamp:p,threadId:function(e){return b.test(e)},replyTs:p,sectionId:function(e){return Object(f.a)(_.a,e)||""===e},tabId:e=>Object(O.c)(e),draftId:v.c},x={[n.a]:{paths:["/"]},[y]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:draftId"]},[w]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId"]},ROUTE_FLEX_CHANNEL_INFO:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info"]},[j]:{paths:["/:entityId/details","/:entityId/:timestamp/details","/:entityId/:tabId/details","/:entityId/details/:sectionId","/:entityId/:timestamp/details/:sectionId","/:entityId/:tabId/details/:sectionId","/:entityId/:draftId/details/:sectionId"]},[I]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity"]},[S]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items"]},[T]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:tabId/files","/:entityId/:draftId/files"]},[k]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId"]},ROUTE_FLEX_FILE_TYPE:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type"]},ROUTE_FLEX_FILE_USER:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId"]},[P]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups"]},[D]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId"]},[E]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new"]},[A]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts"]},[B]:{paths:["/:entityId/downloads","/:entityId/:timestamp/downloads","/:entityId/:tabId/downloads","/:entityId/:draftId/downloads"]},[W]:{paths:["/:entityId/directory","/:entityId/:timestamp/directory","/:entityId/:tabId/directory","/:entityId/:draftId/directory"]},[F]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId"]},[C]:{paths:["/:entityId/app_profile/:appOrServiceId","/:entityId/:timestamp/app_profile/:appOrServiceId","/:entityId/:tabId/app_profile/:appOrServiceId","/:entityId/:draftId/app_profile/:appOrServiceId"]},[R]:{paths:["/:entityId/calendar","/:entityId/:timestamp/calendar","/:entityId/:tabId/calendar","/:entityId/:draftId/calendar"]}};function M(){Object(o.d)(L,x)}},sekS:function(e,t,r){"use strict";r.d(t,"a",function(){return c});var o=r("rePB"),n=r("cewN"),a=r("cW5R");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}var i=["force_cold_boot"];function c(e,t){var r={},c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){Object(o.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Object(a.b)(t),{},Object(n.d)(e));return Object.keys(c).forEach(e=>{if(e.startsWith("force_")&&!i.includes(e)&&c[e]){var t=e.slice(6);c[e].split(",").forEach(e=>{var o="all",n=e,a=e.indexOf(":");a>=0&&(o=e.slice(0,a),n=e.slice(a+1)),r[o]||(r[o]={}),r[o][t]=n})}}),r}},wCpp:function(e,t,r){"use strict";function o(e){if(e)return"draft-".concat(e)}function n(e){if(e){var[,t]=e.match(/^draft-(.+)/)||[];return t}}function a(e){return/^draft-.+/.test(e)}r.d(t,"b",function(){return o}),r.d(t,"a",function(){return n}),r.d(t,"c",function(){return a})},wHps:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var o=r("4v0o"),n={[o.a.allUnreads]:"unreads",[o.a.allThreads]:"threads",[o.a.search]:"search"}}},[["d/52",2,43,17,101,10]]]);